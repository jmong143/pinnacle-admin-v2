(window.webpackJsonptest=window.webpackJsonptest||[]).push([[0],{196:function(e,t,a){e.exports=a(466)},221:function(e,t,a){},222:function(e,t,a){},227:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(0),i=a.n(n),c=a(32),r=a.n(c),l=a(16),o=a(38),d=a(13),u=a(7),m=a(8),p=a(10),h=a(9),b=a(11),f=a(4),E=a.n(f),g="ADMIN_LOGIN",v="VALIDATE_ADMIN",y="VALIDATE_PASSWORD",S="FETCH_SUBJECTS",N="SUBJECT_INFO",j="SUBJECT_UPDATE",w="SUBJECT_DELETE",C="ADMIN_FILE_UPLOAD",k="ADMIN_GET_FILE",O="FETCH_USERS",I="NEW_USER",x="USER_INFO",T="USER_DELETE",A="USER_UPDATE",D="FETCH_NEWS",P="NEWS_INFO",L="NEW_NEWS",U="NEWS_UPDATE",q="NEWS_DELETE",Q="FETCH_TOPICS",J="NEW_TOPIC",F="TOPIC_UPDATE",M="TOPIC_DELETE",_="FETCH_QUESTIONS",R="CREATE_QUESTIONS",B="QUESTION_INFO",V="QUESTION_UPDATE",W="QUESTIONS_DELETE",z="FETCH_LESSONS",H="LESSON_INFO",Y="NEW_LESSON",K="LESSON_UPDATE",G="LESSON_DELETE",X="FETCH_MOCK",$="MOCK_INFO",Z="NEW_MOCK_EXAM",ee="FETCH_SUBJECT_CODE",te="NEW_SUBJECT_CODE",ae="SUBJECT_CODE_INFO",se="SUBJECT_CODE_UPDATE",ne="RESEND_SUBJECT_CODE";var ie=function(e){return{type:"FETCH_POSTS",payload:e}},ce=function(e){return{type:"NEW_POSTS",payload:e}},re=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchPosts()}},{key:"componentWillReceiveProps",value:function(e){e.newPost&&this.props.posts.unshift(e.newPost)}},{key:"render",value:function(){var e=this.props.posts.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement("h3",null,e.title),i.a.createElement("p",null,e.body))});return i.a.createElement("div",null,i.a.createElement("h1",null,"Posts"),e)}}]),t}(i.a.Component),le=Object(d.b)(function(e){return{posts:e.posts.items,newPost:e.posts.item}},{fetchPosts:function(){return function(e){return E.a.get("https://jsonplaceholder.typicode.com/posts").then(function(t){return e(ie(t.data))}).catch(function(e){console.log(e)})}}})(re),oe=a(2),de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={title:"",body:""},a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onSubmit=a.onSubmit.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Add post"),i.a.createElement("form",{onSubmit:this.onSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Title")," ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.onChange})),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement("label",null,"Body")," ",i.a.createElement("br",null),i.a.createElement("textarea",{name:"body",value:this.state.body,onChange:this.onChange})),i.a.createElement("br",null),i.a.createElement("button",{type:"submit"},"Submit")))}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,body:this.state.body};this.props.createPost(t)}}]),t}(i.a.Component);Object(d.b)(null,{createPost:function(e){return function(t){return E.a.post("https://jsonplaceholder.typicode.com/posts",e).then(function(e){return t(ce(e.data))}).catch(function(e){console.log(e)})}}})(de),n.Component;a(221),a(222);var ue=a(184),me=a.n(ue);a(223),a(224);function pe(e,t){new me.a({text:t,type:e,timeout:4e3}).show()}var he=function(e,t){return{type:e,payload:t}},be="https://pinnacle-backend-api.herokuapp.com",fe={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345"}};function Ee(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/auth/admin/sessions/validate"),t).then(function(t){if(t.data){var a=t.data.auth,s=t.data.message,n=t.status;return e(he(v,{status:n,auth:a,message:s}))}}).catch(function(t){return e(he(v,t))})}}var ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={isOpen:!1},a.btnAdminLogout=a.btnAdminLogout.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("nav",{class:"navbar navbar-icon-top navbar-expand-lg navbar-dark bg-dark"},i.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{class:"navbar-toggler-icon"})),i.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent"},i.a.createElement("ul",{class:"navbar-nav ml-auto"},i.a.createElement("li",{class:"nav-item"},i.a.createElement("a",{class:"nav-link",href:"#"},i.a.createElement("i",{class:"fa fa-user"})," Profile")),i.a.createElement("li",{class:"nav-item"},i.a.createElement("a",{class:"nav-link",href:"#",onClick:this.btnAdminLogout},i.a.createElement("i",{class:"fa fa-cog"})," Logout"))))))}},{key:"btnAdminLogout",value:function(){}}]),t}(n.Component),ve=Object(d.b)(function(e){return{validateToken:e.validateToken.testData}},{validateToken:Ee})(ge),ye=a(5),Se=a(6);a(227);function Ne(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/subjects"),t).then(function(t){return"success"==t.data.result?e(he(S,t.data)):"failed"==t.data.result?e(he(S,t.data)):void 0}).catch(function(t){return console.log(t),e(he(S,t))})}}function je(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/subjects/").concat(e),a).then(function(e){if(e.data){if("success"==e.data.result)return t(he(w,e.data));if("failed"==e.data.result)return t(he(w,e.data))}}).catch(function(e){return t(he(w,e))})}}var we=function(e){return{type:"NEW_SUBJECT",payload:e}};function Ce(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345","content-type":"multipart/form-data",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}},s=new FormData;return s.append("file",e),E.a.post("".concat(be,"/uploads?type=subjects"),s,a).then(function(e){if(e.data){e.data.filename,e.data.mimetype;return t(Oe(e.data))}}).catch(function(e){console.log("ERROR UPLOAD==> "+e);var a=e.response.data.message,s=e.response.status;return t(he(C,{message:a,status:s}))})}}function ke(e){return console.log(e),function(t){JSON.parse(localStorage.getItem("pinnacleAdmin")).token;return E.a.get("".concat(be,"/uploads/").concat(e),{responseType:"blob",headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}}).then(function(e){if(e.data){var a=new window.FileReader;a.readAsDataURL(e.data),a.onload=function(){var e=a.result;return t(he(k,e))}}}).catch(function(e){return t(he(k,e))})}}var Oe=function(e){return{type:C,payload:e}},Ie=a(19),xe=a.n(Ie),Te=(a(37),a(20)),Ae=a.n(Te),De=a(12),Pe=a.n(De);function Le(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/news?pageItems=10000"),t).then(function(t){return e(he(D,t.data))}).catch(function(t){return e(he(D,t))})}}function Ue(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/news/").concat(e),a).then(function(e){if(e.data)return t(he(q,e.data))}).catch(function(e){return t(he(q,e))})}}function qe(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/users?pageItems=1000"),t).then(function(t){return e(he(O,t.data))}).catch(function(t){return e(he(O,t))})}}function Qe(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/users/").concat(e),a).then(function(e){if(e.data)return t(he(T,e.data))}).catch(function(e){return t(he(T,e))})}}function Je(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/subjects/").concat(e,"/topics"),a).then(function(e){return t(he(Q,e.data))}).catch(function(e){return t(he(Q,e))})}}a(289);function Fe(e,t){var a;return a=""===t?"".concat(be,"/questions?subjectId=").concat(e):"".concat(be,"/questions?topicId=").concat(t,"&subjectId=").concat(e),function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get(a,t).then(function(t){return e(he(_,t.data))}).catch(function(t){return e(he(_,t))})}}function Me(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/questions"),e,a).then(function(e){return t(he(R,e.data))}).catch(function(e){return t(he(R,e))})}}var _e=a(29),Re=De.Search.SearchBar,Be=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e,t){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.props.fetchLessonInfo(e,t),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={cardStatus:!1,cardActive:"",isModalOpen:!1,subjectId:"",subjectName:"",topicId:"",topicName:"",lessonContent:"",lessonName:"",updateLessonContent:"",updateLessonName:""},a.showCard=a.showCard.bind(Object(oe.a)(a)),a.formCreateLesson=a.formCreateLesson.bind(Object(oe.a)(a)),a.formUpdateLesson=a.formUpdateLesson.bind(Object(oe.a)(a)),a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onChangeTopic=a.onChangeTopic.bind(Object(oe.a)(a)),a.onChangeText=a.onChangeText.bind(Object(oe.a)(a)),a.onEditorChange=a.onEditorChange.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchSubjects()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.lessonInfo&&(this.setState({updateLessonName:e.lessonInfo.data.name}),this.setState({updateLessonContent:e.lessonInfo.data.content}))}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?(this.props.fetchLessonInfo(a.topicId,a._id),document.body.scrollTop=0,document.documentElement.scrollTop=0):"edit"==e&&(this.props.fetchLessonInfo(a.topicId,a._id),document.body.scrollTop=0,document.documentElement.scrollTop=0)):this.setState({cardStatus:!1})}},{key:"onChange",value:function(e){var t=JSON.parse(e.target.value);this.setState({subjectId:t.id}),this.setState({subjectName:t.name}),this.props.fetchTopic(t.id)}},{key:"onChangeText",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"onChangeTopic",value:function(e){if(""==e.target.value)this.setState({topicId:""});else{var t=JSON.parse(e.target.value);this.setState({topicId:t.id}),this.setState({topicName:t.description}),this.props.fetchLesson(t.id)}}},{key:"onEditorChange",value:function(e){"create"===this.state.cardActive?this.setState({lessonContent:e.target.getContent()}):"edit"===this.state.cardActive&&this.setState({updateLessonContent:e.target.getContent()})}},{key:"formCreateLesson",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a={name:this.state.lessonName,content:this.state.lessonContent};this.props.newLesson(this.state.topicId,a).then(function(e){console.log("ADDED>>> "+JSON.stringify(e)),"success"===e.payload.result?(pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.props.fetchLesson(t.state.topicId)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({lessonContent:""}),t.setState({lessonName:""}),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}},{key:"formUpdateLesson",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a={name:this.state.updateLessonName,content:this.state.updateLessonContent};this.props.updateLesson(this.state.topicId,this.props.lessonInfo.data._id,a).then(function(e){console.log("UPDATED>>> "+JSON.stringify(e)),"success"===e.payload.result?(pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.props.fetchLesson(t.state.topicId)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({updateLessonContent:""}),t.setState({updateLessonName:""}),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}},{key:"render",value:function(){var e=this,t=new Array;""!==this.state.subjectId&&""!==this.state.topicId&&this.props.lessonLists?this.props.lessonLists.data&&this.props.lessonLists.data.length>0&&this.props.lessonLists.data.forEach(function(a){t.push({name:a.name,action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a.topicId,a._id)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})}):t=[];return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Lessons"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Lessons")),i.a.createElement("div",{className:"row"},1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"create"==this.state.cardActive?"Create new lesson":"","edit"==this.state.cardActive?"Edit lesson":"","view"==this.state.cardActive?"Lesson Information":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateLesson,id:"createLessonForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,i.a.createElement("b",null," ",this.state.subjectName)),i.a.createElement("p",null,i.a.createElement("b",null," ",this.state.topicName))),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter lesson name",name:"lessonName",value:this.state.lessonName,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Content"),i.a.createElement(_e.a,{initialValue:"",init:{height:500,menubar:!1,plugins:["font image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.onEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","edit"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formUpdateLesson,id:"editLessonForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,i.a.createElement("b",null," ",this.state.subjectName)),i.a.createElement("p",null,i.a.createElement("b",null," ",this.state.topicName))),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter lesson name",name:"updateLessonName",value:this.state.updateLessonName,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Content"),i.a.createElement(_e.a,{initialValue:this.state.updateLessonContent,init:{height:500,menubar:!1,plugins:["font image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font undo redo | formatselect | bold italic underline backcolor |                                                                 alignleft aligncenter alignright alignjustify |                                                                 bullist numlist outdent indent | removeformat image | help"},onChange:this.onEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","view"==this.state.cardActive?i.a.createElement("div",null,i.a.createElement("p",null,"Topic Name: ",i.a.createElement("b",null,this.state.topicName," ")),this.props.lessonInfo?i.a.createElement("div",null,i.a.createElement("p",null,"Lesson Name: ",i.a.createElement("b",null,this.props.lessonInfo.data.name," ")),i.a.createElement("p",null,"Content: "),i.a.createElement("div",{class:"alert alert-secondary alert-lesson-content"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.lessonInfo.data.content}}))):""):"")),i.a.createElement("hr",null)):"",i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},""!==this.state.subjectId&&""!==this.state.topicId&&this.props.topicLists?i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new lesson"):"")),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-lesson",data:this.props.lessonInfo?this.props.lessonInfo.data:""},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.props.lessonInfo?this.props.lessonInfo.data.name:""," "),"?"))),i.a.createElement("div",{className:"col-md-6"},this.props.subjectLists?this.props.subjectLists.subjects.length>0?i.a.createElement("select",{className:"form-control",name:"subjectId",id:"subjectId",onChange:this.onChange}," ",i.a.createElement("option",{value:""},"Select Subject"),this.props.subjectLists.subjects.map(function(e){return i.a.createElement("option",{value:JSON.stringify(e),key:e.id,"data-subject":e.name},e.name)})," "):"":i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading subjects... ")),i.a.createElement("div",{className:"col-md-6"},this.props.topicLists?this.props.topicLists.length>0?i.a.createElement("div",null,i.a.createElement("select",{className:"form-control",onChange:this.onChangeTopic},i.a.createElement("option",{value:""},"Select Topic"),this.props.topicLists.map(function(e){return i.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.description)}))):i.a.createElement("label",{className:"text text-danger"},"Topic currently empty"):""),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:" card"},i.a.createElement("div",{class:"card-body"},""==this.state.topicId?i.a.createElement("div",{class:"alert alert-dismissible alert-primary"},i.a.createElement("strong",null,"Select subject and topic first")):i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"name",text:"Name",style:{width:"600px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(Re,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))})))))))))))))}}]),t}(n.Component)),Ve=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,subjectLists:e.subjects.items.data,topicLists:e.topics.items.data,questionsLists:e.questions.items.data,newQuestion:e.questions.question,lessonLists:e.lessons.items,lessonInfo:e.lessons.info}},{validateToken:Ee,fetchSubjects:Ne,fetchTopic:Je,fetchQuestions:Fe,newQuestion:Me,fetchLesson:We,fetchLessonInfo:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/topics/").concat(e,"/lessons/").concat(t),s).then(function(e){return a(he(H,e.data))}).catch(function(e){return a(he(H,e))})}},newLesson:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/topics/").concat(e,"/lessons"),t,s).then(function(e){return a(he(Y,e.data))}).catch(function(e){return a(he(Y,e))})}},updateLesson:function(e,t,a){return function(s){var n={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/topics/").concat(e,"/lessons/").concat(t),a,n).then(function(e){return s(he(K,e.data))}).catch(function(e){return s(he(K,e))})}}})(Be);function We(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/topics/").concat(e,"/lessons"),a).then(function(e){return t(he(z,e.data))}).catch(function(e){return t(he(z,e))})}}function ze(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/admin/subjects/codes"),t).then(function(t){return e(he(ee,t.data))}).catch(function(t){return e(he(ee,t))})}}function He(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/admin/subjects/codes/mail/resend"),e,a).then(function(e){return t(he(ne,e.data))}).catch(function(e){return t(he(ne,e))})}}var Ye=a(185);function Ke(){var e=Object(Ye.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity linear 0.15s;\n  z-index: 2000;\n  width: ","px;\n  margin: 40px auto;\n  &.fade-in {\n    opacity: 1;\n    transition: opacity linear 0.15s;\n  }\n  &.fade-out {\n    opacity: 0;\n    transition: opacity linear 0.15s;\n  }\n  .background {\n    background: rgba(0, 0, 0, 0.5);\n    position: fixed;\n    z-index: 1040;\n    display: block;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    outline: 0;\n  }\n  .card-validate{\n    background-color: #17a2b8;\n  }\n  .card-success{\n    background-color: #218838;\n    color: white;\n  }\n  .box-dialog {\n    z-index: 1050;\n    width: 50%;\n    background-color: #fefefe;\n    box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n    .box-content {\n      padding: 24px;\n      width: 100%;\n    }\n    .box-header {\n      height: 48px;\n      padding: 8px 24px;\n      background-color: #003469;\n      color: white;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid #c7c7c7;\n      .box-title {\n        font-size: 24px;\n        font-weight: 400;\n        margin: 0 0 0 0;\n      }\n      .x-close {\n        font-size: 35px;\n        line-height: 35px;\n        font-weight: 400;\n        text-shadow: none;\n        color: black;\n        cursor: pointer;\n        &:hover {\n          opacity: 0.5;\n        }\n      }\n    }\n    .box-body {\n      font-size: 14px;\n      padding: 0px;\n      width: auto;\n      height: auto;\n    }\n    .box-footer {\n      height: 60px;\n      padding: 0px 24px;\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n      border-top: 1px solid #c7c7c7;\n    }\n    .close{\n      color: white;\n    }\n  }\n"]);return Ke=function(){return e},e}var Ge=a(186).a.div(Ke(),function(e){switch(e.modalSize){case"lg":return"800";default:return"480"}}),Xe=document.getElementById("modal-root"),$e=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={fadeType:null},a.background=i.a.createRef(),a.transitionEnd=function(e){"opacity"===e.propertyName&&"in"!==a.state.fadeType&&"out"===a.state.fadeType&&(a.setState({validate:!1}),a.setState({disabled:!1}),a.setState({showNotif:!1}),a.props.onClose())},a.onEscKeyDown=function(e){"Escape"===e.key&&(a.setState({validate:!1}),a.setState({disabled:!1}),a.setState({showNotif:!1}),a.setState({fadeType:"out"}))},a.handleClick=function(e){e.preventDefault(),a.setState({validate:!1}),a.setState({disabled:!1}),a.setState({showNotif:!1}),a.setState({fadeType:"out"})},a.handleOperation=function(e){if("delete-subject"===a.props.type){var t=a.props.data;a.props.subjectDelete(t.data.id).then(function(e){"success"===e.payload.result?(a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again'),a.props.fetchSubjects()})}else if("delete-news"===a.props.type){var s=a.props.data;a.props.newsDelete(s.data.id).then(function(e){"success"===e.payload.result?(a.props.fetchNews(),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}else if("delete-user"===a.props.type){var n=a.props.data;a.props.userDelete(n.data.id).then(function(e){"success"===e.payload.result?(a.props.fetchUsers(),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}else if("delete-topic"===a.props.type){var i=a.props.data;console.log(i),a.props.deleteTopic(i.subjectId,i.topicId).then(function(e){"success"===e.payload.result?(a.props.fetchTopic(i.subjectId),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}else if("delete-lesson"===a.props.type){var c=a.props.data;console.log(c),a.props.deleteLesson(c.topicId,c._id).then(function(e){"success"===e.payload.result?(a.props.fetchLesson(c.topicId),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}else if("delete-question"===a.props.type){var r=a.props.data;console.log(r),a.props.deleteQuestion(r._id).then(function(e){"success"===e.payload.result?(a.props.fetchQuestions(r.subjectId,r.topicId),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}else if("resend-subject-code"===a.props.type){var l=a.props.data,o={email:l.data.email,id:l.data.id};a.props.resendSubjectCode(o).then(function(e){console.log(e),"success"===e.payload.result?(a.props.fetchSubjectCode(),a.setState({fadeType:"out"}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}},a.state={userPassword:"",validate:!1,disabled:!1,showNotif:!1},a.handleOperation=a.handleOperation.bind(Object(oe.a)(a)),a.onChange=a.onChange.bind(Object(oe.a)(a)),a.formValidatePassword=a.formValidatePassword.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",this.onEscKeyDown,!1),setTimeout(function(){return e.setState({fadeType:"in"})},0)}},{key:"componentDidUpdate",value:function(e,t){!this.props.isOpen&&e.isOpen&&this.setState({fadeType:"out"})}},{key:"componentWillUnmount",value:function(){this.setState({validate:!1}),this.setState({disabled:!1}),this.setState({showNotif:!1}),window.removeEventListener("keydown",this.onEscKeyDown,!1)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"formValidatePassword",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a={password:this.state.userPassword};this.props.validatePassword(a).then(function(e){console.log("RESSS>> "+JSON.stringify(e)),"success"===e.payload.result?(t.setState({validate:!0}),t.setState({showNotif:!1})):(t.setState({showNotif:!0}),t.setState({disabled:!1}))})}},{key:"render",value:function(){return r.a.createPortal(i.a.createElement(Ge,{id:this.props.id,className:"wrapper ".concat("size-"+this.props.modalSize," fade-").concat(this.state.fadeType," ").concat(this.props.modalClass),role:"dialog",modalSize:this.props.modalSize,onTransitionEnd:this.transitionEnd},i.a.createElement("div",{className:"box-dialog"},i.a.createElement("div",{className:"box-header"},i.a.createElement("h5",{className:"box-title"},this.props.title),i.a.createElement("button",{onClick:this.handleClick,className:"close"},"\xd7")),i.a.createElement("div",{className:"box-content"},this.props.children),"resend-subject-code"===this.props.type?"":i.a.createElement("div",null,i.a.createElement("hr",null),!0===this.state.validate?i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:" alert alert-success"},i.a.createElement("i",{className:"fa fa-check"})," Password successfully validated, Click confirm to delete")):i.a.createElement("div",{className:"container"},i.a.createElement("div",{class:" card"},i.a.createElement("div",{class:"card-body card-validate"},!0===this.state.showNotif?i.a.createElement("div",{class:"alert alert-dismissible alert-danger"}," ",i.a.createElement("i",{className:"fa fa-info-circle"})," Invalid Password"):"",i.a.createElement("small",null,i.a.createElement("i",null,"Enter password here in able to proceed in deletion")),i.a.createElement("form",{onSubmit:this.formValidatePassword},i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"password",className:"form-control",name:"userPassword",value:this.state.userPassword,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}):"Submit")))))),i.a.createElement("br",null)),i.a.createElement("div",{className:"box-footer"},"resend-subject-code"===this.props.type?i.a.createElement("button",{onClick:this.handleOperation,class:"btn btn-outline-primary"},"Confirm"):"",!0===this.state.validate?i.a.createElement("button",{onClick:this.handleOperation,class:"btn btn-outline-primary"},"Confirm"):""," \xa0",i.a.createElement("button",{onClick:this.handleClick,className:"btn btn-outline-danger"},"Cancel"))),i.a.createElement("div",{className:"background",onMouseDown:this.handleClick,ref:this.background})),Xe)}}]),t}(n.Component);$e.defaultProps={id:"",modalClass:"",modalSize:"md"};var Ze=Object(d.b)(function(e){return{validate:e.validateToken.validatePassword,deleteSubjectProps:e.subjects.subjectDelete,deleteNewsProps:e.news.newsUpdate}},{validatePassword:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/auth/admin/password/validate"),e,a).then(function(e){return t(he(y,e.data))}).catch(function(e){return t(he(y,e))})}},subjectDelete:je,newsDelete:Ue,fetchNews:Le,fetchSubjects:Ne,fetchUsers:qe,userDelete:Qe,fetchTopic:Je,deleteTopic:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/subjects/").concat(e,"/topics/").concat(t),s).then(function(e){return a(he(M,e.data))}).catch(function(e){return a(he(M,e))})}},fetchLesson:We,deleteLesson:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/topics/").concat(e,"/lessons/").concat(t),s).then(function(e){return a(he(G,e.data))}).catch(function(e){return a(he(G,e))})}},fetchQuestions:Fe,deleteQuestion:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.delete("".concat(be,"/questions/").concat(e),a).then(function(e){return t(he(W,e.data))}).catch(function(e){return t(he(W,e))})}},fetchSubjectCode:ze,resendSubjectCode:He})($e),et=De.Search.SearchBar,tt=(De.Search.ClearSearchButton,function(e){function t(e){var a,n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){"undefined"===typeof e?n.setState({isModalOpen:!1}):(n.props.subjectInfo(e),n.setState({isModalOpen:!n.state.isModalOpen}))},n.state=(a={data:"",subjects:[],subject:null,subjectCode:"",subjectName:"",subjectDescription:"",subjectFileName:"",updateSubjectCode:"",updateSubjectName:"",updateSubjectDescription:"",updateLoad:!0},Object(s.a)(a,"subjectFileName",""),Object(s.a)(a,"createSubject",!1),Object(s.a)(a,"cardStatus",!1),Object(s.a)(a,"cardActive",""),Object(s.a)(a,"fileData",""),Object(s.a)(a,"fileLoad",!1),Object(s.a)(a,"spinLoad",!1),Object(s.a)(a,"disabled",!1),Object(s.a)(a,"fileTargetValue",null),Object(s.a)(a,"isModalOpen",!1),Object(s.a)(a,"deleteData",{}),a),n.onChange=n.onChange.bind(Object(oe.a)(n)),n.formCreateSubject=n.formCreateSubject.bind(Object(oe.a)(n)),n.formUpdateSubject=n.formUpdateSubject.bind(Object(oe.a)(n)),n.onChangeFile=n.onChangeFile.bind(Object(oe.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchSubjects()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.fileUploaded,e.getIcon,e.addedSubject&&(this.setState({disabled:!1}),this.setState({subjectCode:""}),this.setState({subjectName:""}),this.setState({subjectDescription:""}),this.setState({subjectFileName:""}),this.setState({fileTargetValue:null})),e.subjectInfoProps&&(console.log(e.subjectInfoProps),this.setState({disabled:!1}),this.setState({updateSubjectCode:e.subjectInfoProps.data.code}),this.setState({updateSubjectName:e.subjectInfoProps.data.name}),this.setState({updateSubjectDescription:e.subjectInfoProps.data.description}),console.log(".....>> "+this.state.updateSubjectName),""==e.subjectInfoProps.data.imageUrl||null==e.subjectInfoProps.data.imageUrl||this.props.getFile(e.subjectInfoProps.data.imageUrl))}},{key:"handleFileRead",value:function(e){e.result}},{key:"render",value:function(){var e=this,t=new Array;this.props.lists&&this.props.lists.subjects.forEach(function(a){t.push({code:a.code,name:a.name,action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a.id)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})});var a={clearSearch:!0,noDataText:i.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin",style:{fontSize:"24px"}})};return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Subjects"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Subjects")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:1==this.state.cardStatus?"col-md-7":"col"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},1==this.state.cardStatus?"":i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new subject"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-subject",data:this.props.subjectInfoProps},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.state.updateSubjectName?this.state.updateSubjectName:""," "),"?"))),i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"code",text:"Code",width:1},{dataField:"name",text:"Name",style:{width:"450px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(et,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{options:a,pagination:Ae()()})))})))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"card border-primary"},i.a.createElement("div",{className:"card-header"},"view"==this.state.cardActive?"Subject Information":"","create"==this.state.cardActive?"Create new subject":"","edit"==this.state.cardActive?"Edit subject":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateSubject,id:"createSubjectForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Subject Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter subject name",name:"subjectName",value:this.state.subjectName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Subject Code"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter subject code",name:"subjectCode",value:this.state.subjectCode,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"description"},"Description "),i.a.createElement("textarea",{placeholder:"Enter description",className:"form-control",name:"subjectDescription",value:this.state.subjectDescription,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"icon"},"Icon"),i.a.createElement("input",{type:"file",name:"file",id:"fileSelect",className:"form-control-file",onChange:this.onChangeFile,disabled:this.state.disabled?"disabled":""}),1==this.state.fileLoad?i.a.createElement("img",{src:this.state.fileData,className:"img-thumb center"}):""),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","view"==this.state.cardActive?i.a.createElement("div",null,this.props.subjectInfoProps?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 post"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("h5",null,i.a.createElement("strong",{className:"subject-title"},this.props.subjectInfoProps.data.name)),i.a.createElement("h6",null,"Code: ",i.a.createElement("small",null,this.props.subjectInfoProps.data.code,"HHH")))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("p",null,this.props.subjectInfoProps.data.description),i.a.createElement("div",{className:" d-flex align-items-center flex-column"},this.props.subjectInfoProps.data.imageUrl?i.a.createElement("div",null,this.props.getIcon?i.a.createElement("img",{src:this.props.getIcon,className:"img-thumb"}):i.a.createElement("div",{className:"spinner-border text-default",role:"status"})):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("span",{className:"badge badge-warning"},"No icon uploaded for this content"))))))):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"}))):"","edit"==this.state.cardActive?i.a.createElement("div",null,this.props.subjectInfoProps?i.a.createElement("form",{onSubmit:this.formUpdateSubject,id:"updateSubjectForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Subject Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter subject name",name:"updateSubjectName",value:this.state.updateSubjectName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Subject Code"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter subject code",name:"updateSubjectCode",value:this.state.updateSubjectCode,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"description"},"Description "),i.a.createElement("textarea",{placeholder:"Enter description",className:"form-control",name:"updateSubjectDescription",value:this.state.updateSubjectDescription,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"icon"},"Update Icon"),i.a.createElement("input",{type:"file",name:"file",id:"fileSelect",className:"form-control-file",onChange:this.onChangeFile,disabled:this.state.disabled?"disabled":""})),i.a.createElement("hr",null),0==this.state.updateLoad?this.props.subjectInfoProps.data.imageUrl?i.a.createElement("div",{className:"d-flex align-items-center flex-column"},this.props.getIcon?i.a.createElement("div",null,i.a.createElement("b",null,"Current icon:")," ",i.a.createElement("img",{src:this.props.getIcon,className:"img-thumb"})," "):i.a.createElement("div",{className:"spinner-border text-default",role:"status"})):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("span",{className:"badge badge-warning"},"No icon uploaded")):"",i.a.createElement("hr",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Update"))):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"}))):""))):"")))))}},{key:"formCreateSubject",value:function(e){var t=this;e.preventDefault();var a=this.state.subjectName,s=this.state.subjectCode,n=this.state.subjectDescription;this.state.subjectFileName;null==this.state.fileTargetValue?pe("error",'<i class = "fa fa-info-circle"></i> Upload subject icon first'):(this.setState({disabled:!this.state.disabled}),this.props.uploadFile(this.state.fileTargetValue).then(function(e){if("file"in e.payload){var i={name:a,code:s,description:n,imageUrl:e.payload.file.filename};t.props.newSubject(i),pe("success",'<i class = "fa fa-info-circle"></i> Successfully added new subject')}else t.setState({disabled:!1}),pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.payload.message));t.props.fetchSubjects()}))}},{key:"formUpdateSubject",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0}),this.setState({updateLoad:!1});var a=this.state.fileTargetValue,s={code:this.state.updateSubjectCode,name:this.state.updateSubjectName,description:this.state.updateSubjectDescription,imageUrl:this.props.subjectInfoProps.data.imageUrl,isArchive:!1};null==a||""==a?this.props.subjectUpdate(this.state,this.props.subjectInfoProps.data.id,s).then(function(e){var a=e.payload.data;t.props.lists.subjects.forEach(function(e){e.id==a._id&&(e.name=a.name,e.code=a.code)}),t.setState({updateSubjectCode:""}),t.setState({updateSubjectName:""}),t.setState({updateSubjectDescription:""}),t.setState({subjectFileName:""}),t.setState({fileTargetValue:null}),t.setState({disabled:!1}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))}):this.props.uploadFile(a).then(function(e){"file"in e.payload?(s.imageUrl=e.payload.file.filename,t.props.subjectUpdate(t.state,t.props.subjectInfoProps.data.id,s).then(function(e){var a=e.payload.data;t.props.lists.subjects.forEach(function(e){e.id==a._id&&(e.name=a.name,e.code=a.code)}),t.setState({updateSubjectCode:""}),t.setState({updateSubjectName:""}),t.setState({updateSubjectDescription:""}),t.setState({subjectFileName:""}),t.setState({fileTargetValue:null}),t.setState({disabled:!1}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))})):(t.setState({disabled:!1}),pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.payload.message)))}),this.setState({updateLoad:!0})}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?(this.setState({disabled:!0}),this.props.subjectInfo(a)):"edit"==e&&(this.setState({disabled:!0}),this.setState({updateLoad:!1}),this.props.subjectInfo(a))):this.setState({cardStatus:!1})}},{key:"btnActionClick",value:function(e,t){console.log(e+" - "+t.id)}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"onChangeFile",value:function(e){var t=e.target.files[0];null==t||""==t||this.setState({fileTargetValue:t})}}]),t}(n.Component)),at=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,lists:e.subjects.items.data,addedSubject:e.subjects.subject,fileUploaded:e.file.data,getIcon:e.file.image,subjectInfoProps:e.subjects.subjectInfo,updateSubjectProps:e.subjects.subjectUpdate,deleteSubjectProps:e.subjects.subjectDelete}},{validateToken:Ee,fetchSubjects:Ne,uploadFile:Ce,getFile:ke,subjectInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/subjects/").concat(e),a).then(function(e){return"success"==e.data.result?t(he(N,e.data)):"failed"==e.data.result?t(he(N,e.data)):void 0}).catch(function(e){return t(he(N,e))})}},newSubject:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/subjects"),e,a).then(function(e){return"success"==e.data.result?t(we(e.data)):"failed"==e.data.result?t(we(e.data)):void 0}).catch(function(e){return t(we(e))})}},subjectUpdate:function(e,t,a){return function(e){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/subjects/").concat(t),a,s).then(function(t){if(t.data){if("success"==t.data.result)return e(he(j,t.data));if("failed"==t.data.result)return e(he(j,t.data))}}).catch(function(t){return e(he(j,t))})}},subjectDelete:je})(tt),st=(a(61),a(467)),nt=(a(290),a(291),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).switch=function(){a.setState(function(e){return{showList:!e.showList}})},a.listSwitch=function(){a.setState(function(e){return{highlightedHobby:!e.highlightedHobby}})},a.state={showList:!1,highlightedHobby:!1},a.clickDropdown=a.clickDropdown.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{class:"sidenav"},i.a.createElement(l.b,{to:"/",className:"sidenav-brand"},i.a.createElement("img",{src:"../../img/logo.png",className:"logo",id:"icon",alt:"User Icon"})),i.a.createElement(l.b,{to:"/",className:"sidenav-link"},i.a.createElement(ye.a,{icon:Se.i})," Dashboard"),i.a.createElement(l.b,{to:"/users",className:"sidenav-link"},i.a.createElement(ye.a,{icon:Se.n})," Users"),i.a.createElement("button",{class:"dropdown-btn sidenav-link",onClick:this.switch},i.a.createElement(ye.a,{icon:Se.a})," Subject ",i.a.createElement(ye.a,{icon:Se.c,className:"float-right"})),i.a.createElement(st.a,{in:this.state.showList,timeout:400,classNames:"list-transition",unmountOnExit:!0,appear:!0,onEntered:this.listSwitch,onExit:this.listSwitch},i.a.createElement("div",{className:"list-body"},i.a.createElement("ul",{className:"list"},i.a.createElement("li",{className:"list-item"}," ",i.a.createElement(l.b,{to:"/subjects",className:""}," List")),i.a.createElement("li",{className:"list-item"}," ",i.a.createElement(l.b,{to:"/subject-code",className:""}," Code"))))),i.a.createElement(l.b,{to:"/topic",className:"sidenav-link"}," ",i.a.createElement(ye.a,{icon:Se.d})," Topics"),i.a.createElement(l.b,{to:"/lessons",className:"sidenav-link"}," ",i.a.createElement(ye.a,{icon:Se.d})," Lessons"),i.a.createElement(l.b,{to:"/questions",className:"sidenav-link"}," ",i.a.createElement(ye.a,{icon:Se.e})," Questions"),i.a.createElement(l.b,{to:"/news",className:"sidenav-link"}," ",i.a.createElement(ye.a,{icon:Se.b})," News"),i.a.createElement(l.b,{to:"/mock",className:"sidenav-link"}," ",i.a.createElement(ye.a,{icon:Se.j})," Mock Exam"))}},{key:"clickDropdown",value:function(){var e=this.refs.testRef;"block"===e.style.display?e.style.display="none":e.style.display="block"}}]),t}(n.Component)),it=(a(293),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:"",isModalOpen:!1},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null==localStorage.getItem("pinnacleAdmin")?this.props.history.push("/login"):this.props.validateToken(this.state).then(function(t){200!==t.payload.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{class:"main"},i.a.createElement(ve,null),i.a.createElement("br",null),i.a.createElement("div",{class:"container"},i.a.createElement("div",{className:"row col-md-12"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{class:"container bootstrap snippet"},i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col-lg-3 col-sm-6"},i.a.createElement("div",{class:"circle-tile "},i.a.createElement("a",{href:"#"},i.a.createElement("div",{class:"circle-tile-heading dark-blue"},i.a.createElement("i",{class:"fa fa-users fa-fw fa-3x"}))),i.a.createElement("div",{class:"circle-tile-content dark-blue"},i.a.createElement("div",{class:"circle-tile-description text-faded"}," Users"),i.a.createElement("div",{class:"circle-tile-number text-faded "},"62"),i.a.createElement(l.b,{to:"/users",className:"circle-tile-footer"},"More Info ",i.a.createElement("i",{class:"fa fa-chevron-circle-right"}))))),i.a.createElement("div",{class:"col-lg-3 col-sm-6"},i.a.createElement("div",{class:"circle-tile "},i.a.createElement("a",{href:"#"},i.a.createElement("div",{class:"circle-tile-heading red"},i.a.createElement("i",{class:"fa fa-book fa-fw fa-3x"}))),i.a.createElement("div",{class:"circle-tile-content red"},i.a.createElement("div",{class:"circle-tile-description text-faded"}," Subjects "),i.a.createElement("div",{class:"circle-tile-number text-faded "},"8"),i.a.createElement(l.b,{to:"/subjects",className:"circle-tile-footer"},"More Info ",i.a.createElement("i",{class:"fa fa-chevron-circle-right"}))))),i.a.createElement("div",{class:"col-lg-3 col-sm-6"},i.a.createElement("div",{class:"circle-tile "},i.a.createElement("a",{href:"#"},i.a.createElement("div",{class:"circle-tile-heading blue"},i.a.createElement("i",{class:"fa fa-list fa-fw fa-3x"}))),i.a.createElement("div",{class:"circle-tile-content blue"},i.a.createElement("div",{class:"circle-tile-description text-faded"}," Topics "),i.a.createElement("div",{class:"circle-tile-number text-faded "},"19"),i.a.createElement(l.b,{to:"/subjects",className:"circle-tile-footer"},"More Info ",i.a.createElement("i",{class:"fa fa-chevron-circle-right"}))))),i.a.createElement("div",{class:"col-lg-3 col-sm-6"},i.a.createElement("div",{class:"circle-tile "},i.a.createElement("a",{href:"#"},i.a.createElement("div",{class:"circle-tile-heading purple"},i.a.createElement("i",{class:"fa fa-calendar fa-fw fa-3x"}))),i.a.createElement("div",{class:"circle-tile-content purple"},i.a.createElement("div",{class:"circle-tile-description text-faded"}," News "),i.a.createElement("div",{class:"circle-tile-number text-faded "},"3"),i.a.createElement(l.b,{to:"/news",className:"circle-tile-footer"},"More Info ",i.a.createElement("i",{class:"fa fa-chevron-circle-right"}))))))))))))}}]),t}(n.Component)),ct=Object(d.b)(function(e){return{validateToken:e.validateToken.testData}},{validateToken:Ee})(it);a(367);var rt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:"",disabled:!1},a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onSubmitLogin=a.onSubmitLogin.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null==localStorage.getItem("pinnacleAdmin")||this.props.validateToken(this.state).then(function(t){200===t.payload.status&&e.props.history.push("/")})}},{key:"componentWillReceiveProps",value:function(e){e.loginData&&(200===e.loginData.status?(localStorage.setItem("pinnacleAdmin",JSON.stringify(e.loginData)),pe("success",'<i class = "fa fa-check"></i> Successfully Logged In..'),this.props.history.push("/")):(this.setState({disabled:!1}),pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.loginData.message))))}},{key:"render",value:function(){return i.a.createElement("div",{className:"main-content "},i.a.createElement("div",{className:"wrapper fadeInDown"},i.a.createElement("div",{class:"form-content"},i.a.createElement("div",{className:"fadeIn first"},i.a.createElement("br",null),i.a.createElement("img",{src:"../../img/logo_old.png",className:"logo",id:"icon",alt:"User Icon"}),i.a.createElement("h5",null,"Admin")),i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.onSubmitLogin},i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"email",id:"login",className:"form-control fadeIn",name:"email",value:this.state.email,placeholder:"Email",onChange:this.onChange,disabled:this.state.disabled?"disabled":"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"password",id:"password",className:"form-control fadeIn",name:"password",value:this.state.password,placeholder:"Password",onChange:this.onChange,disabled:this.state.disabled?"disabled":"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit"},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Login ")," \xa0",i.a.createElement("button",{className:"btn btn-warning btn-lg",type:"button"},"Clear")))),i.a.createElement("div",{className:"form-footer"},i.a.createElement("a",{className:"underline-hover",href:"https://www.pinnaclecpareview.ph/",target:"_blank"},"Go to the Site")))))}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"onSubmitLogin",value:function(e){e.preventDefault(),this.setState({disabled:!this.state.disabled});var t={email:this.state.email,password:this.state.password};this.props.loginPost(t)}}]),t}(i.a.Component),lt=Object(d.b)(function(e){return{loginData:e.login.data,validateToken:e.validateToken.testData}},{validateToken:Ee,loginPost:function(e){return function(t){return E.a.post("".concat(be,"/auth/admin/login"),e,fe).then(function(e){if(e.data){var a=e.data.token,s=e.data.expiresIn,n=e.data.user,i=e.status;t(he(g,{token:a,expiresIn:s,user:n,status:i}))}}).catch(function(e){var a=e.response.data.message,s=e.response.status;t(he(g,{message:a,status:s}))})}}})(rt),ot=(a(368),De.Search.SearchBar),dt=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){console.log(e),"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.setState({topicInfo:{subjectId:a.state.subjectId,topicId:e.id,topicName:e.description}}),console.log(a.state.topicInfo),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={subjectName:"",subjectId:"",cardStatus:!1,disabled:!1,isModalOpen:!1,createTopicName:"",editTopicName:"",topicId:"",topicName:"",topicInfo:""},a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onChangeForm=a.onChangeForm.bind(Object(oe.a)(a)),a.formCreateTopic=a.formCreateTopic.bind(Object(oe.a)(a)),a.formUpdateTopic=a.formUpdateTopic.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchSubjects()}):this.props.history.push("/login")}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?this.setState({disabled:!0}):"edit"==e&&(this.setState({disabled:!1}),this.setState({topicId:a.id}),this.setState({editTopicName:a.description}),this.setState({updateLoad:!1}))):this.setState({cardStatus:!1})}},{key:"onChange",value:function(e){if(""==e.target.value)this.setState({subjectId:""});else{var t=JSON.parse(e.target.value);this.setState({subjectId:t.id}),this.setState({subjectName:t.name}),this.props.fetchTopic(t.id)}}},{key:"onChangeForm",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"formCreateTopic",value:function(e){var t=this;if(e.preventDefault(),""===this.state.subjectId)pe("error",'<i class = "fa fa-remove"></i> Select subject first');else{this.setState({disabled:!0});var a={description:this.state.createTopicName};this.props.newTopic(this.state.subjectId,a).then(function(e){console.log("AAA> "+JSON.stringify(e)),t.setState({disabled:!1}),t.setState({createTopicName:""}),"success"===e.payload.result?(t.props.fetchTopic(t.state.subjectId),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):"failed"===e.payload.result?pe("error",'<i class = "fa fa-remove"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}}},{key:"formUpdateTopic",value:function(e){var t=this;if(e.preventDefault(),""===this.state.subjectId)pe("error",'<i class = "fa fa-remove"></i> Select subject first');else{this.setState({disabled:!0});var a={description:this.state.editTopicName,subjectId:this.state.subjectId,isArchive:!1};this.props.updateTopic(this.state.subjectId,this.state.topicId,a).then(function(e){console.log("AAA> "+JSON.stringify(e)),t.setState({disabled:!1}),t.setState({editTopicName:""}),"success"===e.payload.result?(t.props.fetchTopic(t.state.subjectId),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))):"failed"===e.payload.result?pe("error",'<i class = "fa fa-remove"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please try again')})}}},{key:"render",value:function(){var e=this,t=new Array;this.props.topicLists&&this.props.topicLists.length>0&&this.props.topicLists.forEach(function(a){t.push({name:a.description,totalLessons:a.lessons.length,action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})});return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Topics"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Topics")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:1==this.state.cardStatus?"col-md-7":"col"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},1==this.state.cardStatus?"":""===this.state.subjectId?"":i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new topic"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-question",data:this.props.questionInfo?this.props.questionInfo.data:""},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.state.questionInfo?this.state.questionInfo.data.tag:""," "),"?"))),this.props.subjectLists?this.props.subjectLists.subjects.length>0?i.a.createElement("select",{className:"form-control",name:"subjectId",id:"subjectId",onChange:this.onChange}," ",i.a.createElement("option",{value:""},"Select Subject"),this.props.subjectLists.subjects.map(function(e){return i.a.createElement("option",{value:JSON.stringify(e),key:e.id,"data-subject":e.name},e.name)})," "):"":i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading subjects... ")),i.a.createElement("br",null),i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:" card"},i.a.createElement("div",{class:"card-body"},""==this.state.subjectId?i.a.createElement("div",{class:"alert alert-dismissible alert-primary"},i.a.createElement("strong",null,"Select Subject first")):i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"name",text:"Name",style:{width:"450px"}},{dataField:"totalLessons",text:"Total Lessons",style:{width:"350px"}},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(ot,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))}))))))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"card border-primary"},i.a.createElement("div",{className:"card-header"},"view"==this.state.cardActive?"Topic Information":"","create"==this.state.cardActive?"Create new topic":"","edit"==this.state.cardActive?"Edit topic":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateTopic,id:"createTopicForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},i.a.createElement("b",null,this.state.subjectName))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter topic name",name:"createTopicName",value:this.state.createTopicName,onChange:this.onChangeForm,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","edit"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formUpdateTopic,id:"editTopicForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},i.a.createElement("b",null,this.state.subjectName))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter topic name",name:"editTopicName",value:this.state.editTopicName,onChange:this.onChangeForm,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):""))):"")))))}}]),t}(n.Component)),ut=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,subjectLists:e.subjects.items.data,topicLists:e.topics.items.data}},{validateToken:Ee,fetchSubjects:Ne,fetchTopic:Je,newTopic:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/subjects/").concat(e,"/topics"),t,s).then(function(e){return a(he(J,e.data))}).catch(function(e){return a(he(J,e))})}},updateTopic:function(e,t,a){return function(s){var n={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/subjects/").concat(e,"/topics/").concat(t),a,n).then(function(e){return s(he(F,e.data))}).catch(function(e){return s(he(F,e))})}}})(dt),mt=(a(369),a(55)),pt=a.n(mt),ht=(a(95),a(372),De.Search.SearchBar),bt=(De.CSVExport.ExportCSVButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.props.userInfo(e),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={cardStatus:!1,cardActive:"",disabled:!1,newUser:{},newUserEmail:"",newUserPassword:"",newUserFirstName:"",newUserMiddleName:"",newUserLastName:"",newUserBirthdate:"",newUserGender:"",newUserSchool:"male",newUserType:"user",updateUserEmail:"",updateFirstName:"",updateUserLastName:"",isModalOpen:!1},a.onChange=a.onChange.bind(Object(oe.a)(a)),a.formCreateUser=a.formCreateUser.bind(Object(oe.a)(a)),a.formUpdateUser=a.formUpdateUser.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchUsers()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.users&&("success"===e.users.result||("failed"===e.users.result?pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.users.message)):pe("error",'<i class = "fa fa-info-circle"></i> Something went wrong, Please try again'))),e.user&&(this.setState({disabled:!1}),console.log(e.user),"success"===e.user.result?(this.setState({updateUserFirstName:e.user.data.firstName}),this.setState({updateUserLastName:e.user.data.lastName})):"failed"===e.user.result?pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.users.message)):pe("error",'<i class = "fa fa-info-circle"></i> Something went wrong, Please try again')),e.userDeleted&&console.log(e.userDeleted)}},{key:"render",value:function(){var e=this,t=new Array;this.props.users&&this.props.users.data.items.forEach(function(a){t.push({role:!0===a.isAdmin?i.a.createElement("span",{className:"badge badge-info"},"admin"):i.a.createElement("span",{className:"badge badge-success"},"user"),subjectCode:null==a.subjectCode||""==a.subjectCode?i.a.createElement("span",{className:"badge badge-danger"},a.isAdmin?"admin":"not enrolled"):a.subjectCode,fullName:a.firstName+" "+a.lastName,email:a.email,action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a.id)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})});return i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-user",data:this.props.user},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.props.user?this.props.user.data.lastName+", "+this.props.user.data.firstName:""," "),"?")),i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Users"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Users")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:1==this.state.cardStatus?"col-md-7":"col"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},1==this.state.cardStatus?"":i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new user"))),i.a.createElement("div",{className:"card-body"},i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"role",text:"Role",width:1},{dataField:"subjectCode",text:"Code",width:2},{dataField:"fullName",text:"Fullname",style:{width:"400px"},searchable:!0},{dataField:"email",text:"Email",style:{width:"350px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],options:{noDataText:"Your_custom_text"},search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(ht,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))})))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"card border-primary"},i.a.createElement("div",{className:"card-header"},"view"==this.state.cardActive?"User Information":"","create"==this.state.cardActive?"Create New Admin User":"","edit"==this.state.cardActive?"Edit User Information":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateUser,id:"createUserForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Email"),i.a.createElement("input",{type:"email",className:"form-control",placeholder:"e.g juandelacruz@mail.com",name:"newUserEmail",value:this.state.newUserEmail,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Password"),i.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"newUserPassword",value:this.state.newUserPassword,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"First Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter first name",name:"newUserFirstName",value:this.state.newUserFirstName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Last Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter last name",name:"newUserLastName",value:this.state.newUserLastName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","edit"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formUpdateUser,id:"updateUserForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"First Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter first name",name:"updateUserFirstName",value:this.state.updateUserFirstName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Last Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter last name",name:"updateUserLastName",value:this.state.updateUserLastName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","view"==this.state.cardActive?i.a.createElement("div",null,this.props.user?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 post"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},""===this.props.user.data.subjectCode?i.a.createElement("div",{className:"alert-danger center"}," ",i.a.createElement("p",null,this.props.user.data.isAdmin?"This user is admin":"This student not enrolled"," ")," "):i.a.createElement("h6",null,"Subject Code: ",i.a.createElement("small",null,this.props.user.data.subjectCode)),i.a.createElement("hr",null),i.a.createElement("h6",null,"Fullname: ",i.a.createElement("small",null,this.props.user.data.lastName,", ",this.props.user.data.firstName," ",this.props.user.data.middleName)),i.a.createElement("h6",null,"Email: ",i.a.createElement("small",null,this.props.user.data.email)),""!==this.props.user.data.gender?i.a.createElement("h6",null,"Gender: ",i.a.createElement("small",null,this.props.user.data.gender)):"",""!==this.props.user.data.school?i.a.createElement("h6",null,"School: ",i.a.createElement("small",null,this.props.user.data.school)):"",i.a.createElement("h6",null,"Member Since: ",i.a.createElement("small",null,i.a.createElement(pt.a,{format:"MMMM D YYYY"},this.props.user.data.createdAt))))))):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"}))):""))):"")))))}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?(this.setState({disabled:!0}),this.props.userInfo(a)):"edit"==e&&(this.setState({disabled:!0}),this.props.userInfo(a))):this.setState({cardStatus:!1})}},{key:"onChange",value:function(e){console.log(e.target.name+" : "+e.target.value),this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"formCreateUser",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!this.state.disabled});var a={email:this.state.newUserEmail,password:this.state.newUserPassword,firstName:this.state.newUserFirstName,middleName:this.state.newUserMiddleName,lastName:this.state.newUserLastName};this.props.newUser(a).then(function(e){pe("success",'<i class = "fa fa-checked"></i> '.concat(e.payload.message)),t.setState({newUserEmail:""}),t.setState({newUserPassword:""}),t.setState({newUserFirstName:""}),t.setState({newUserMiddleName:""}),t.setState({newUserLastName:""}),t.setState({disabled:!1}),t.props.fetchUsers()})}},{key:"formUpdateUser",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!this.state.disabled});var a={firstName:this.state.updateUserFirstName,lastName:this.state.updateUserLastName};this.props.userUpdate(this.props.user.data.id,a).then(function(e){t.setState({disabled:!1}),"success"===e.payload.result?(t.setState({updateUserFirstName:""}),t.setState({updateUserLastName:""}),t.setState({cardStatus:!1}),t.props.fetchUsers(),pe("success",'<i class = "fa fa-checked"></i> '.concat(e.payload.message))):"failed"===e.payload.result?pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-info-circle"></i> Something went wrong, Please try again')})}}]),t}(n.Component)),ft=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,users:e.users.lists,addedUser:e.users.list,user:e.users.info,userDeleted:e.users.delete}},{validateToken:Ee,fetchUsers:qe,newUser:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/auth/admin/register"),e,a).then(function(e){return t(he(I,e.data))}).catch(function(e){return t(he(I,e))})}},userInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/users/").concat(e),a).then(function(e){return console.log(e.data),t(he(x,e.data))}).catch(function(e){return t(he(x,e))})}},userDelete:Qe,userUpdate:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/users/").concat(e),t,s).then(function(e){return a(he(A,e.data))}).catch(function(e){return a(he(A,e))})}}})(bt),Et=(a(373),De.Search.SearchBar),gt=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.props.fetchSubjectCodeInfo(e),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={cardStatus:!1,isModalOpen:!1,cardActive:"",subjectCodeType:"single",subjectCodeEmail:"",subjectOrgName:"",subjectTotalCode:"",selectedSubjects:[],updateSelectedSubjects:[]},a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onChangeType=a.onChangeType.bind(Object(oe.a)(a)),a.formSubjectCode=a.formSubjectCode.bind(Object(oe.a)(a)),a.addSubject=a.addSubject.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchSubjectCode()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.subjectCodeInfo&&this.setState({disabled:!1})}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),this.props.fetchSubjects(),"view"==e?(this.setState({disabled:!0}),this.props.fetchSubjectCodeInfo(a),document.body.scrollTop=0,document.documentElement.scrollTop=0):"edit"==e&&(this.setState({updateSelectedSubjects:new Array}),this.setState({disabled:!0}),this.setState({updateLoad:!1}),this.props.fetchSubjectCodeInfo(a),document.body.scrollTop=0,document.documentElement.scrollTop=0)):this.setState({cardStatus:!1})}},{key:"onChangeType",value:function(e){console.log(e.target.value),this.setState({subjectCodeType:e.target.value})}},{key:"onChange",value:function(e){console.log(e.target.name+" "+e.target.value),this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"btnSelectSubject",value:function(e){var t=this.state.selectedSubjects,a=t.concat(e.id);if(t.includes(e.id)){console.log("IS HERE");var s=t.indexOf(e.id);s>-1&&(t.splice(s,1),this.setState({selectedSubjects:t}))}else this.setState({selectedSubjects:a})}},{key:"btnUpdateSelectSubject",value:function(e){this.checkSubject(this.props.subjectCodeInfo.data.subjects,e.id,e.name)}},{key:"checkSubject",value:function(e,t,a){var s=this.state.updateSelectedSubjects.concat(t);return e.some(function(e){return e.subjectId===t})?pe("error",'<i class = "fa fa-warning"></i> User currently enrolled to this subject - '.concat(a)):this.setState({updateSelectedSubjects:s}),e}},{key:"addSubject",value:function(){var e=new Array;if(this.state.updateSelectedSubjects.length>0){console.log(this.props.subjects.subjects.length+" > "+this.props.subjectCodeInfo.data.subjects.length),this.props.subjectCodeInfo.data.subjects.map(function(t){e.push(t.subjectId)});var t=e.concat(this.state.updateSelectedSubjects),a={subjectCode:this.props.subjectCodeInfo.data.subjectCode,userId:this.props.subjectCodeInfo.data.userId,email:this.props.subjectCodeInfo.data.email,organizationName:this.props.subjectCodeInfo.data.organizationName,subjects:t};this.props.updateSubjectCode(this.props.subjectCodeInfo.data.id,a).then(function(e){console.log(">>>  "+JSON.stringify(e))})}else pe("error",'<i class = "fa fa-warning"></i> Select subject to add')}},{key:"formSubjectCode",value:function(e){var t=this;if(e.preventDefault(),this.state.selectedSubjects.length>0){this.setState({disabled:!0});var a={email:this.state.subjectCodeEmail,subjects:this.state.selectedSubjects};"multiple"===this.state.subjectCodeType&&(a.count=this.state.subjectTotalCode,a.organizationName=this.state.subjectOrgName),console.log(a),this.props.newSubjectCode(a).then(function(e){console.log(">>> "+JSON.stringify(e)),"success"===e.payload.result?(t.props.fetchSubjectCode(),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.setState({disabled:!1}),t.setState({cardStatus:!1})):"failed"===e.payload.result?pe("error",'<i class = "fa fa-warning"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-warning"></i> Something went wrong please try agin')})}else pe("error",'<i class = "fa fa-warning"></i> Select subject/s first')}},{key:"render",value:function(){var e=this,t=new Array;this.props.subjectCode?(console.log(this.props.subjectCode),this.props.subjectCode.items.length>0&&this.props.subjectCode.items.forEach(function(a){t.push({subjectCode:a.subjectCode,isActivated:""===a.userId?i.a.createElement("small",{className:"text text-danger"},"Not activated"):i.a.createElement("small",null,"Activated"),email:a.email,orgName:""===a.organizationName?i.a.createElement("small",{className:"text text-primary"},"not an organization"):a.organizationName,action:i.a.createElement("div",{className:""},""===a.userId?i.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(){return e.toggleState(a.id)}}," ",i.a.createElement(ye.a,{icon:Se.g})):"","\xa0",i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.h})),"\xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0")})})):t=[];return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Subject Codes"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Subject Code")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:1==this.state.cardStatus?"col-md-7":"col"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},1==this.state.cardStatus?"":i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new subject code"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Resend Subject Code",type:"resend-subject-code",data:this.props.subjectCodeInfo},i.a.createElement("div",{className:"box-body"},"Are you sure you want to resend subject code to this email? ",i.a.createElement("b",null," ",this.props.subjectCodeInfo?this.props.subjectCodeInfo.data.email:""," "),"?"))),i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"subjectCode",text:"Subject Code",style:{width:"100px"},searchable:!0},{dataField:"isActivated",text:"Is Activated",style:{width:"200px"},searchable:!0},{dataField:"email",text:"Email",style:{width:"200px"},searchable:!0},{dataField:"orgName",text:"Organiztion Name",style:{width:"400px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(Et,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))})))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"card border-primary"},i.a.createElement("div",{className:"card-header"},"view"==this.state.cardActive?"Subject Information":"","create"==this.state.cardActive?"Create new subject code":"","edit"==this.state.cardActive?"Edit subject code":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formSubjectCode,id:"createSubjectForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Select mode"),i.a.createElement("select",{className:"form-control",onChange:this.onChangeType,disabled:this.state.disabled?"disabled":""},i.a.createElement("option",{value:"single"},"Single"),i.a.createElement("option",{value:"multiple"},"Multiple"))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Email"),i.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"subjectCodeEmail",value:this.state.subjectCodeEmail,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),"multiple"==this.state.subjectCodeType?i.a.createElement("div",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Organization Name"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter organization name",name:"subjectOrgName",value:this.state.subjectOrgName,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Total Code"),i.a.createElement("input",{type:"number",className:"form-control",placeholder:"Enter number",name:"subjectTotalCode",value:this.state.subjectTotalCode,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""}))):"",i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"code"},"Select subject to enroll"),this.props.subjects?i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col-md-12"},i.a.createElement("div",null,this.props.subjects.subjects.map(function(t){return i.a.createElement("button",{type:"button",class:e.state.selectedSubjects.length>0&&e.state.selectedSubjects.includes(t.id)?"btn btn-success btn-block":"btn btn-secondary btn-block",key:t.id,onClick:e.btnSelectSubject.bind(e,t),disabled:e.state.disabled?"disabled":""},e.state.selectedSubjects.length>0&&e.state.selectedSubjects.includes(t.id)?i.a.createElement("i",{class:"fa fa-check"}):""," ",t.code)})))):i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading subjects... ")),i.a.createElement("hr",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","view"==this.state.cardActive?i.a.createElement("div",null,this.props.subjectCodeInfo?i.a.createElement("div",{key:this.props.subjectCodeInfo.data.id},i.a.createElement("p",null,"Code: ",i.a.createElement("b",null,this.props.subjectCodeInfo.data.subjectCode)),i.a.createElement("p",null,"Email: ",i.a.createElement("b",null,this.props.subjectCodeInfo.data.email)),i.a.createElement("p",null,"User: ",i.a.createElement("b",null,""===this.props.subjectCodeInfo.data.userId?i.a.createElement("label",{className:"text text-danger"},"Not Activated"):this.props.subjectCodeInfo.data.userId)),i.a.createElement("p",null,"Activated At: ",i.a.createElement("b",null,this.props.subjectCodeInfo.data.expiresAt)),i.a.createElement("p",null,"Expires At: ",i.a.createElement("b",null,this.props.subjectCodeInfo.data.expiresAt)),i.a.createElement("p",null,"Subject/s Enrolled: ",i.a.createElement("hr",null),i.a.createElement("b",null,i.a.createElement("ul",null,this.props.subjectCodeInfo.data.subjects.map(function(e){return i.a.createElement("li",null," ",e.name," ")}))))):""):"","edit"==this.state.cardActive?i.a.createElement("div",null,this.props.subjectCodeInfo&&this.props.subjects?this.props.subjectCodeInfo.data.subjects.length===this.props.subjects.subjects.length?i.a.createElement("div",{className:"alert alert-dismissible alert-danger"}," ",i.a.createElement("span",{className:"fa fa-warning"})," Unable to update - all subjects are enrolled to this user"):i.a.createElement("div",null,i.a.createElement("b",null,"Subjects enrolled:")," ",i.a.createElement("hr",null),this.props.subjectCodeInfo?i.a.createElement("ul",null,this.props.subjectCodeInfo.data.subjects.map(function(e){return i.a.createElement("li",null,e.name)})):i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading enrolled subject/s... "),i.a.createElement("hr",null),i.a.createElement("b",null,"Add subject to enroll:")," ",i.a.createElement("hr",null),this.props.subjects?this.props.subjects.subjects.map(function(t){return i.a.createElement("button",{type:"button",class:e.state.updateSelectedSubjects.length>0&&e.state.updateSelectedSubjects.includes(t.id)?"btn btn-success btn-block":"btn btn-secondary btn-block",key:t.id,onClick:e.btnUpdateSelectSubject.bind(e,t),disabled:e.state.disabled?"disabled":""},e.state.updateSelectedSubjects.length>0&&e.state.updateSelectedSubjects.includes(t.id)?i.a.createElement("i",{class:"fa fa-check"}):""," ",t.code)}):"",i.a.createElement("hr",null),i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":"",onClick:this.addSubject},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Add Subject")):i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading content... ")):""))):"")))))}}]),t}(n.Component)),vt=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,subjects:e.subjects.items.data,subjectCode:e.subjectCode.items.data,subjectCodeInfo:e.subjectCode.info}},{validateToken:Ee,fetchSubjects:Ne,fetchSubjectCode:ze,newSubjectCode:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/admin/subjects/codes/generate"),e,a).then(function(e){return t(he(te,e.data))}).catch(function(e){return t(he(te,e))})}},fetchSubjectCodeInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/admin/subjects/codes/").concat(e),a).then(function(e){return t(he(ae,e.data))}).catch(function(e){return t(he(ae,e))})}},updateSubjectCode:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/admin/subjects/codes/").concat(e),t,s).then(function(e){return a(he(se,e.data))}).catch(function(e){return a(he(se,e))})}},resendSubjectCode:He})(gt),yt=(a(374),De.Search.SearchBar),St=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.props.newsInfo(e),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={cardStatus:!1,cardActive:"",fileTargetValue:null,newsTitle:"",newsDescription:"",newsAuthor:"",updateLoad:!0,updateNewsTitle:"",updateNewsDescription:"",updateNewsAuthor:"",isModalOpen:!1,ckEditorValue:"",editorData:"<p>aaa</p>"},a.showCard=a.showCard.bind(Object(oe.a)(a)),a.formCreateNews=a.formCreateNews.bind(Object(oe.a)(a)),a.formUpdateNews=a.formUpdateNews.bind(Object(oe.a)(a)),a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onChangeFile=a.onChangeFile.bind(Object(oe.a)(a)),a.onEditorChange=a.onEditorChange.bind(Object(oe.a)(a)),a.handleEditorDataChange=a.handleEditorDataChange.bind(Object(oe.a)(a)),a.handleEditorInit=a.handleEditorInit.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleEditorDataChange",value:function(e,t){this.setState({editorData:t.getData()})}},{key:"handleEditorInit",value:function(e){this.editor=e,this.setState({editorData:e.getData()})}},{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchNews()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.lists&&"failed"==e.lists.result&&pe("error",'<i class = "fa fa-remove"></i> Something went wrong, Please refresh the page'),e.newsDetails&&(this.setState({updateNewsTitle:e.newsDetails.data.title}),this.setState({updateNewsDescription:e.newsDetails.data.description}),this.setState({updateNewsAuthor:e.newsDetails.data.author}),""==e.newsDetails.data.imageUrl||null==e.newsDetails.data.imageUrl||this.props.getFile(e.newsDetails.data.imageUrl),this.setState({disabled:!1})),e.addedNews&&(this.setState({disabled:!1}),this.setState({fileTargetValue:null}),this.setState({newsTitle:""}),this.setState({newsDescription:""}),this.setState({newsAuthor:""}))}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?(this.setState({disabled:!0}),this.props.newsInfo(a)):"edit"==e&&(this.setState({disabled:!0}),this.setState({updateLoad:!1}),this.props.newsInfo(a))):this.setState({cardStatus:!1})}},{key:"onEditorChange",value:function(e){"create"===this.state.cardActive?this.setState({newsDescription:e.target.getContent()}):"edit"===this.state.cardActive&&this.setState({updateNewsDescription:e.target.getContent()})}},{key:"formCreateNews",value:function(e){var t=this;e.preventDefault(),null==this.state.fileTargetValue?pe("error",'<i class = "fa fa-info-circle"></i> Upload news image first'):(this.setState({disabled:!this.state.disabled}),this.props.uploadFile(this.state.fileTargetValue).then(function(e){if("file"in e.payload){console.log(e.payload);var a={title:t.state.newsTitle,description:t.state.newsDescription,author:t.state.newsAuthor,imageUrl:e.payload.file.filename};t.props.newNews(a),pe("success",'<i class = "fa fa-info-circle"></i> Successfully added news'),t.props.fetchNews(),t.setState({cardStatus:!1})}else t.setState({disabled:!1}),pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.payload.message))}))}},{key:"formUpdateNews",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a=this.state.fileTargetValue,s={title:this.state.updateNewsTitle,description:this.state.updateNewsDescription,author:this.state.updateNewsAuthor,imageUrl:this.props.newsDetails.data.imageUrl,isArchive:!1};null==a||""==a?this.props.newsUpdate(this.state,this.props.newsDetails.data.id,s).then(function(e){var a=e.payload.data;console.log(">>>>>>>>>>>>>>>>> "+JSON.stringify(a)),t.props.lists.data.items.forEach(function(e){e.id==a._id&&(e.title=a.title,e.author=a.author)}),t.props.fetchNews(),t.setState({updateNewsTitle:""}),t.setState({updateNewsDescription:""}),t.setState({updateNewsAuthor:""}),t.setState({fileTargetValue:null}),t.setState({disabled:!1}),t.setState({cardStatus:!1}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))}):this.props.uploadFile(a).then(function(e){"file"in e.payload?(s.imageUrl=e.payload.file.filename,t.props.newsUpdate(t.state,t.props.newsDetails.data.id,s).then(function(e){var a=e.payload.data;t.props.lists.data.items.forEach(function(e){e.id==a._id&&(e.title=a.title,e.author=a.author)}),t.props.fetchNews(),t.setState({updateNewsTitle:""}),t.setState({updateNewsDescription:""}),t.setState({updateNewsAuthor:""}),t.setState({fileTargetValue:null}),t.setState({disabled:!1}),t.setState({cardStatus:!1}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message))})):(t.setState({disabled:!1}),pe("error",'<i class = "fa fa-info-circle"></i> '.concat(e.payload.message)))})}},{key:"onChangeFile",value:function(e){var t=e.target.files[0];null==t||""==t||this.setState({fileTargetValue:t})}},{key:"render",value:function(){var e=this,t=new Array;this.props.lists&&this.props.lists.data.items.forEach(function(a){var s=a.title;null===a.title||""===a.title||s.length>30&&(s=s.substring(0,30)+"..."),t.push({title:s,author:a.author,createdBy:a.createdBy,isArchive:!0===a.isArchive?i.a.createElement("span",{className:"badge badge-danger"},"true"):i.a.createElement("span",{className:"badge badge-success"},"false"),action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a.id)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a.id)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})});return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"News"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"News")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:1==this.state.cardStatus?"col-md-7":"col"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},1==this.state.cardStatus?"":i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new news"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-news",data:this.props.newsDetails},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.state.updateNewsTitle?this.state.updateNewsTitle:""," "),"?"))),i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"title",text:"Title",style:{width:"450px"}},{dataField:"author",text:"Author",style:{width:"300px"}},{dataField:"createdBy",text:"Created By",style:{width:"300px"}},{dataField:"isArchive",text:"Is Deleted"},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(yt,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))}),i.a.createElement("div",null)))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"card border-primary"},i.a.createElement("div",{className:"card-header"},"view"==this.state.cardActive?"News Information":"","create"==this.state.cardActive?"Create new news":"","edit"==this.state.cardActive?"Edit news":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateNews,id:"createNewsForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter news name",name:"newsTitle",value:this.state.newsTitle,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"description"},"Description "),i.a.createElement(_e.a,{initialValue:"",init:{height:500,menubar:!1,plugins:["font image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font undo redo | formatselect | bold italic underline backcolor |                                                             alignleft aligncenter alignright alignjustify |                                                             bullist numlist outdent indent | removeformat image | help"},onChange:this.onEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Author"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter author's name",name:"newsAuthor",value:this.state.newsAuthor,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"icon"},"Banner"),i.a.createElement("input",{type:"file",name:"file",id:"fileSelect",className:"form-control-file",onChange:this.onChangeFile,disabled:this.state.disabled?"disabled":""}),1==this.state.fileLoad?i.a.createElement("img",{src:this.state.fileData,className:"img-thumb center"}):""),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","edit"==this.state.cardActive?i.a.createElement("div",null,this.props.newsInfo?i.a.createElement("form",{onSubmit:this.formUpdateNews,id:"updateSubjectForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"News Title"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter news name",name:"updateNewsTitle",value:this.state.updateNewsTitle,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"description"},"Description "),i.a.createElement(_e.a,{initialValue:this.state.updateNewsDescription,init:{height:500,menubar:!1,plugins:["font image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.onEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Author"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Author",name:"updateNewsAuthor",value:this.state.updateNewsAuthor,onChange:this.onChange,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"icon"},"Update Banner"),i.a.createElement("input",{type:"file",name:"file",id:"fileSelect",className:"form-control-file",onChange:this.onChangeFile,disabled:this.state.disabled?"disabled":""})),i.a.createElement("hr",null),this.props.newsDetails?this.props.newsDetails.data.imageUrl?i.a.createElement("div",null,this.props.getIcon?i.a.createElement("img",{src:this.props.getIcon,className:"img-thumb"}):i.a.createElement("div",{className:"spinner-border text-default",role:"status"})):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("span",{className:"badge badge-warning"},"No image uploaded for this content")):"",i.a.createElement("hr",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Update"))):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"}))):"","view"==this.state.cardActive?i.a.createElement("div",null,this.props.newsDetails?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 post"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("h3",null,this.props.newsDetails.data.title),i.a.createElement("hr",null),i.a.createElement("h6",null,"Author: ",i.a.createElement("small",null,this.props.newsDetails.data.author)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.newsDetails.data.description}}),i.a.createElement("div",{className:" d-flex align-items-center flex-column"},this.props.newsDetails.data.imageUrl?i.a.createElement("div",null,this.props.getIcon?i.a.createElement("img",{src:this.props.getIcon,className:"img-thumb"}):i.a.createElement("div",{className:"spinner-border text-default",role:"status"})):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("span",{className:"badge badge-warning"},"No icon uploaded for this content"))))))):i.a.createElement("div",{className:"d-flex align-items-center flex-column"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"}))):""))):"")))))}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}}]),t}(n.Component)),Nt=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,lists:e.news.lists,newsDetails:e.news.list,getIcon:e.file.image,addedNews:e.news.addedNews,updateNews:e.news.newsUpdate,deleteNewsProps:e.news.newsDelete}},{validateToken:Ee,fetchNews:Le,newsInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/news/").concat(e),a).then(function(e){return t(he(P,e.data))}).catch(function(e){return t(he(P,e))})}},getFile:ke,uploadFile:Ce,newNews:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/news"),e,a).then(function(e){return t(he(L,e.data))}).catch(function(e){return t(he(L,e))})}},newsUpdate:function(e,t,a){return function(e){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/news/").concat(t),a,s).then(function(t){if(t.data)return e(he(U,t.data))}).catch(function(t){return e(he(U,t))})}},newsDelete:Ue})(St),jt=(a(375),De.Search.SearchBar),wt=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).toggleState=function(e){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.setState({isModalOpen:!0}),a.props.fetchQuestionInfo(e))},a.handleEditorChange=function(e){console.log("Content was updated:",e.target.getContent()),"create"===a.state.cardActive?a.setState({questionName:e.target.getContent()}):"edit"===a.state.cardActive&&(console.log("HERERERERERERERER"),a.setState({updateQuestionName:e.target.getContent()}))},a.handleEditorChangeSolution=function(e){console.log("Content was updated:",e.target.getContent()),"create"===a.state.cardActive?a.setState({questionSolution:e.target.getContent()}):"edit"===a.state.cardActive&&a.setState({updateQuestionSolution:e.target.getContent()})},a.state={cardStatus:!1,cardActive:"",isModalOpen:!1,subjectId:"",subjectName:"",topicId:"",topicName:"",questionName:"",questionTag:"",questionChoice1:"",questionChoice2:"",questionChoice3:"",questionChoice4:"",questionSolution:"",questionAnswer:"",updateQuestionName:"",updateQuestionTag:"",updateQuestionChoice1:"",updateQuestionChoice2:"",updateQuestionChoice3:"",updateQuestionChoice4:"",updateQuestionSolution:"",updateQuestionAnswer:""},a.showCard=a.showCard.bind(Object(oe.a)(a)),a.formCreateQuestion=a.formCreateQuestion.bind(Object(oe.a)(a)),a.formEditQuestion=a.formEditQuestion.bind(Object(oe.a)(a)),a.onChange=a.onChange.bind(Object(oe.a)(a)),a.onChangeTopic=a.onChangeTopic.bind(Object(oe.a)(a)),a.onChangeText=a.onChangeText.bind(Object(oe.a)(a)),a.onEditorChange=a.onEditorChange.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchSubjects()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.questionInfo&&(console.log(">> "+JSON.stringify(e.questionInfo)),this.setState({disabled:!1}),this.setState({updateQuestionTag:e.questionInfo.data.tag}),this.setState({updateQuestionName:e.questionInfo.data.question}),this.setState({updateQuestionChoice1:e.questionInfo.data.choices[0]}),this.setState({updateQuestionChoice2:e.questionInfo.data.choices[1]}),this.setState({updateQuestionChoice3:e.questionInfo.data.choices[2]}),this.setState({updateQuestionChoice4:e.questionInfo.data.choices[3]}),this.setState({updateQuestionAnswer:e.questionInfo.data.answer}),this.setState({updateQuestionSolution:e.questionInfo.data.solution}))}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),"view"==e?(console.log("aaa>>> "+a),this.props.fetchQuestionInfo(a)):"edit"==e&&(this.setState({disabled:!0}),this.props.fetchQuestionInfo(a)),document.body.scrollTop=0,document.documentElement.scrollTop=0):this.setState({cardStatus:!1})}},{key:"onChange",value:function(e){var t=JSON.parse(e.target.value);this.setState({subjectId:t.id}),this.setState({subjectName:t.name}),this.props.fetchTopic(t.id)}},{key:"onChangeText",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"onChangeTopic",value:function(e){if(""==e.target.value)this.setState({topicId:""});else{var t=JSON.parse(e.target.value);console.log(">>>>>>>>> "+t),this.setState({topicId:t.id}),this.setState({topicName:t.description}),this.props.fetchQuestions(this.state.subjectId,t.id)}}},{key:"onEditorChange",value:function(e){if(console.log("event>>> "+e),"create"===this.state.cardActive){var t=this.editorInstance.save();console.log("testt11> "+t)}else"edit"===this.state.cardActive&&this.setState({updateQuestionName:e.editor.getData()})}},{key:"formCreateQuestion",value:function(e){var t=this;if(e.preventDefault(),this.setState({disabled:!0}),""==this.state.questionAnswer)this.setState({disabled:!1}),pe("error",'<i class = "fa fa-check"></i> Select answer first');else{var a={tag:this.state.questionTag,name:this.state.questionName,solution:this.state.questionSolution,choices:[this.state.questionChoice1,this.state.questionChoice2,this.state.questionChoice3,this.state.questionChoice4],answer:this.state.questionAnswer,subjectId:this.state.subjectId,topicId:this.state.topicId};console.log("FORM>>> "+JSON.stringify(a)),this.props.newQuestion(a).then(function(e){console.log("ADDED>>> "+JSON.stringify(e)),"success"===e.payload.result?(pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.props.fetchQuestions(t.state.subjectId,t.state.topicId)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({questionName:""}),t.setState({questionChoice1:""}),t.setState({questionChoice2:""}),t.setState({questionChoice3:""}),t.setState({questionChoice4:""}),t.setState({questionSolution:""}),t.setState({questionAnswer:""}),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}}},{key:"formEditQuestion",value:function(e){var t=this;if(e.preventDefault(),this.setState({disabled:!0}),""==this.state.updateQuestionAnswer)pe("error",'<i class = "fa fa-check"></i> Select answer first');else{var a={tag:this.state.updateQuestionTag,question:this.state.updateQuestionName,solution:this.state.updateQuestionSolution,choices:[this.state.updateQuestionChoice1,this.state.updateQuestionChoice2,this.state.updateQuestionChoice3,this.state.updateQuestionChoice4],answer:this.state.updateQuestionAnswer};console.log("FORM>>> "+JSON.stringify(a)),this.props.updateQuestion(this.props.questionInfo.data._id,a).then(function(e){console.log("ADDED>>> "+JSON.stringify(e)),"success"===e.payload.result?(pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.props.fetchQuestions(t.state.subjectId,t.state.topicId)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}}},{key:"render",value:function(){var e=this,t=new Array;""!==this.state.subjectId&&""!==this.state.topicId&&this.props.questionsLists?(console.log(">>  "+JSON.stringify(this.props.questionsLists)),this.props.questionsLists.forEach(function(a){t.push({name:a.tag,answer:a.answer,action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a._id)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){return e.showCard("edit","show",a._id)}}," ",i.a.createElement(ye.a,{icon:Se.f}))," \xa0",i.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return e.toggleState(a._id)}}," ",i.a.createElement(ye.a,{icon:Se.m})))})})):t=[];return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Questions"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Questions")),i.a.createElement("div",{className:"row"},i.a.createElement("div",null,this.state.isModalOpen&&i.a.createElement(Ze,{id:"modal",isOpen:this.state.isModalOpen,onClose:this.toggleState,title:"Delete",type:"delete-question",data:this.props.questionInfo?this.props.questionInfo.data:""},i.a.createElement("div",{className:"box-body"},"Are you sure you want to delete this ",i.a.createElement("b",null," ",this.state.questionInfo?this.state.questionInfo.data.tag:""," "),"?"))),1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"create"==this.state.cardActive?"Create new question":"","edit"==this.state.cardActive?"Edit question":"","view"==this.state.cardActive?"Question Information":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formCreateQuestion,id:"createQuestionForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Selected Subject: ",this.state.subjectName),i.a.createElement("p",null,"Selected Topic: ",this.state.topicName)),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Tag"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter question tag",name:"questionTag",value:this.state.questionTag,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Title"),i.a.createElement(_e.a,{initialValue:"",init:{height:500,menubar:!1,plugins:["font image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.handleEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Choices"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice A",name:"questionChoice1",value:this.state.questionChoice1,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice B",name:"questionChoice2",value:this.state.questionChoice2,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice C",name:"questionChoice3",value:this.state.questionChoice3,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice D",name:"questionChoice4",value:this.state.questionChoice4,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Answer"),i.a.createElement("select",{className:"form-control",name:"questionAnswer",onChange:this.onChangeText,disabled:this.state.disabled?"disabled":""},i.a.createElement("option",{value:""}),""===this.state.questionChoice1?"":i.a.createElement("option",{key:this.state.questionChoice1,value:this.state.questionChoice1},this.state.questionChoice1),""===this.state.questionChoice2?"":i.a.createElement("option",{key:this.state.questionChoice2,value:this.state.questionChoice2},this.state.questionChoice2),""===this.state.questionChoice3?"":i.a.createElement("option",{key:this.state.questionChoice3,value:this.state.questionChoice3},this.state.questionChoice3),""===this.state.questionChoice4?"":i.a.createElement("option",{key:this.state.questionChoice4,value:this.state.questionChoice4},this.state.questionChoice4))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Solution"),i.a.createElement(_e.a,{initialValue:"",init:{height:300,menubar:!1,plugins:["table image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"table font-size undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.handleEditorChangeSolution})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","edit"==this.state.cardActive?i.a.createElement("form",{onSubmit:this.formEditQuestion,id:"createEditForm"},i.a.createElement("div",{className:"form-group"},i.a.createElement("p",null,"Selected Subject: ",this.state.subjectName),i.a.createElement("p",null,"Selected Topic: ",this.state.topicName)),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Tag"),i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter question tag",name:"updateQuestionTag",value:this.state.updateQuestionTag,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Question"),i.a.createElement(_e.a,{initialValue:this.state.updateQuestionName,init:{height:300,menubar:!1,plugins:["image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"table undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.handleEditorChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Choices"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice A",name:"updateQuestionChoice1",value:this.state.updateQuestionChoice1,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice B",name:"updateQuestionChoice2",value:this.state.updateQuestionChoice2,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice C",name:"updateQuestionChoice3",value:this.state.updateQuestionChoice3,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Choice D",name:"updateQuestionChoice4",value:this.state.updateQuestionChoice4,onChange:this.onChangeText,required:!0,disabled:this.state.disabled?"disabled":""})))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Answer"),i.a.createElement("p",null,i.a.createElement("b",null,"Current Answer:")," ",this.state.updateQuestionAnswer," "),i.a.createElement("select",{className:"form-control",name:"updateQuestionAnswer",onChange:this.onChangeText,disabled:this.state.disabled?"disabled":""},i.a.createElement("option",{value:""}),""==this.state.updateQuestionChoice1?"":i.a.createElement("option",{key:this.state.updateQuestionChoice1,value:this.state.updateQuestionChoice1},this.state.updateQuestionChoice1),""==this.state.updateQuestionChoice2?"":i.a.createElement("option",{key:this.state.updateQuestionChoice2,value:this.state.updateQuestionChoice2},this.state.updateQuestionChoice2),""==this.state.updateQuestionChoice3?"":i.a.createElement("option",{key:this.state.updateQuestionChoice3,value:this.state.updateQuestionChoice3},this.state.updateQuestionChoice3),""==this.state.updateQuestionChoice4?"":i.a.createElement("option",{key:this.state.updateQuestionChoice4,value:this.state.updateQuestionChoice4},this.state.updateQuestionChoice4))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{for:"name"},"Solution"),i.a.createElement(_e.a,{initialValue:this.state.updateQuestionSolution,init:{height:300,menubar:!1,plugins:["font-size image underline","advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"font-size undo redo | formatselect | bold italic underline backcolor |                                                                     alignleft aligncenter alignright alignjustify |                                                                     bullist numlist outdent indent | removeformat image | help"},onChange:this.handleEditorChangeSolution})),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Submit"))):"","view"==this.state.cardActive?this.props.questionInfo?i.a.createElement("div",null,i.a.createElement("p",null,"Subject Name:",i.a.createElement("b",null," ",this.state.subjectName)),i.a.createElement("p",null,"Topic Name:",i.a.createElement("b",null," ",this.state.topicName)),i.a.createElement("p",null,"Question Tag: ",i.a.createElement("b",null,this.props.questionInfo.data.tag)),i.a.createElement("div",{class:"alert alert-secondary"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.questionInfo.data.question}})),i.a.createElement("p",null,"Choices: "),i.a.createElement("p",null,i.a.createElement("b",null,"A. ",this.props.questionInfo.data.choices[0])),i.a.createElement("p",null,i.a.createElement("b",null,"B. ",this.props.questionInfo.data.choices[1])),i.a.createElement("p",null,i.a.createElement("b",null,"C. ",this.props.questionInfo.data.choices[2])),i.a.createElement("p",null,i.a.createElement("b",null,"D. ",this.props.questionInfo.data.choices[3])),i.a.createElement("hr",null),i.a.createElement("p",null,"Answer: ",i.a.createElement("b",null,this.props.questionInfo.data.answer)),i.a.createElement("hr",null),i.a.createElement("p",null,"Solution:  ",i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.questionInfo.data.solution}}))):i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading content... "):"")),i.a.createElement("hr",null)):"",i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},""!==this.state.subjectId&&""!==this.state.topicId&&this.props.questionsLists?i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new question"):"")),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},this.props.subjectLists?this.props.subjectLists.subjects.length>0?i.a.createElement("select",{className:"form-control",name:"subjectId",id:"subjectId",onChange:this.onChange}," ",i.a.createElement("option",{value:""},"Select Subject"),this.props.subjectLists.subjects.map(function(e){return i.a.createElement("option",{value:JSON.stringify(e),key:e.id,"data-subject":e.name},e.name)})," "):"":i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading subjects... ")),i.a.createElement("div",{className:"col-md-6"},this.props.topicLists?this.props.topicLists.length>0?i.a.createElement("div",null,i.a.createElement("select",{className:"form-control",onChange:this.onChangeTopic},i.a.createElement("option",{value:""},"Select Topic"),this.props.topicLists.map(function(e){return i.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.description)}))):i.a.createElement("label",{className:"text text-danger"},"Topic currently empty"):""),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:" card"},i.a.createElement("div",{class:"card-body"},""==this.state.topicId?i.a.createElement("div",{class:"alert alert-dismissible alert-primary"},i.a.createElement("strong",null,"Select Topic first")):i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"name",text:"Name"},{dataField:"answer",text:"Answer",style:{width:"450px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(jt,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))})))))))))))))}}]),t}(n.Component)),Ct=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,subjectLists:e.subjects.items.data,topicLists:e.topics.items.data,questionsLists:e.questions.items.data,newQuestion:e.questions.question,questionInfo:e.questions.info}},{validateToken:Ee,fetchSubjects:Ne,fetchTopic:Je,fetchQuestions:Fe,newQuestion:Me,fetchQuestionInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/questions/").concat(e),a).then(function(e){return t(he(B,e.data))}).catch(function(e){return t(he(B,e))})}},updateQuestion:function(e,t){return function(a){var s={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.put("".concat(be,"/questions/").concat(e),t,s).then(function(e){return a(he(V,e.data))}).catch(function(e){return a(he(V,e))})}}})(wt);a(376);a(377),a(378);var kt=De.Search.SearchBar,Ot=(De.Search.ClearSearchButton,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).switch=function(){a.setState(function(e){return{showList:!e.showList}})},a.listSwitch=function(){a.setState(function(e){return{highlightedHobby:!e.highlightedHobby}})},a.toggleState=function(e,t){"undefined"===typeof e?a.setState({isModalOpen:!1}):(a.props.fetchLessonInfo(e,t),a.setState({isModalOpen:!a.state.isModalOpen}))},a.state={cardStatus:!1,cardActive:"",isModalOpen:!1,subjectId:"",subjectName:"",topicId:"",topicName:"",lessonContent:"",lessonName:"",updateLessonContent:"",updateLessonName:"",showList:!1,selectedQuestions:[]},a.showCard=a.showCard.bind(Object(oe.a)(a)),a.formCreateLesson=a.formCreateLesson.bind(Object(oe.a)(a)),a.formUpdateLesson=a.formUpdateLesson.bind(Object(oe.a)(a)),a.onChange=a.onChange.bind(Object(oe.a)(a)),a.handleAddMockExam=a.handleAddMockExam.bind(Object(oe.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!==localStorage.getItem("pinnacleAdmin")?this.props.validateToken(this.state).then(function(t){200!==t.payload.status?e.props.history.push("/login"):e.props.fetchMock()}):this.props.history.push("/login")}},{key:"componentWillReceiveProps",value:function(e){e.questionsLists&&console.log(">>>>> "+JSON.stringify(e.questionsLists))}},{key:"showCard",value:function(e,t,a){"show"==t?(this.setState({cardStatus:!0}),this.setState({cardActive:e}),this.props.fetchSubjects(),"view"==e?(this.props.fetchMockInfo(a),document.body.scrollTop=0,document.documentElement.scrollTop=0):"edit"==e&&(this.props.fetchMockInfo(a),document.body.scrollTop=0,document.documentElement.scrollTop=0)):this.setState({cardStatus:!1})}},{key:"onChange",value:function(e){var t=JSON.parse(e.target.value);this.setState({subjectId:t.id}),this.setState({subjectName:t.name}),this.props.fetchQuestions(t.id,"")}},{key:"formCreateLesson",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a={name:this.state.lessonName,content:this.state.lessonContent};this.props.newLesson(this.state.topicId,a).then(function(e){console.log("ADDED>>> "+JSON.stringify(e)),"success"===e.payload.result?(pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.props.fetchLesson(t.state.topicId)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({lessonContent:""}),t.setState({lessonName:""}),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}},{key:"formUpdateLesson",value:function(e){var t=this;e.preventDefault(),this.setState({disabled:!0});var a={name:this.state.updateLessonName,content:this.state.updateLessonContent};this.props.updateLesson(this.state.topicId,this.props.lessonInfo.data._id,a).then(function(e){console.log("UPDATED>>> "+JSON.stringify(e)),"success"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):"error"===e.payload.result?pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)):pe("error",'<i class = "fa fa-check"></i> Something went wrong, Please try again'),t.setState({updateLessonContent:""}),t.setState({updateLessonName:""}),t.setState({disabled:!1}),t.setState({cardStatus:!1})})}},{key:"handleAddMockExam",value:function(e){var t=this;if(e.preventDefault(),this.state.selectedQuestions.length>0){console.log(this.state.selectedQuestions);var a={subjectId:this.state.subjectId,questions:this.state.selectedQuestions};console.log(a),this.props.newMockExam(a).then(function(e){console.log(e),"success"===e.payload.result?(t.props.fetchMock(),t.setState({selectedQuestions:[]}),pe("success",'<i class = "fa fa-check"></i> '.concat(e.payload.message)),t.setState({disabled:!1}),t.setState({cardStatus:!1})):"failed"===e.payload.result?pe("error",'<i class = "fa fa-warning"></i> '.concat(e.payload.error)):pe("error",'<i class = "fa fa-warning"></i> Something went wrong please try agin')})}else pe("error",'<i class = "fa fa-check"></i> Select questions first')}},{key:"btnSelectQuestion",value:function(e){var t=this.state.selectedQuestions,a=t.concat(e._id);if(t.includes(e._id)){var s=t.indexOf(e._id);s>-1&&(t.splice(s,1),this.setState({selectedQuestions:t}))}else this.setState({selectedQuestions:a})}},{key:"render",value:function(){var e=this,t=new Array;this.props.mockLists?this.props.mockLists.length>0&&this.props.mockLists.forEach(function(a){t.push({name:a.subjectName,createdAt:i.a.createElement(pt.a,{format:"MMMM D YYYY"},a.createdAt),action:i.a.createElement("div",{className:""},i.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.showCard("view","show",a.subjectId)}}," ",i.a.createElement(ye.a,{icon:Se.h}))," \xa0")})}):t=[];return i.a.createElement("div",null,i.a.createElement(nt,null),i.a.createElement("div",{className:"main"},i.a.createElement(ve,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"col"},i.a.createElement("br",null),i.a.createElement("h2",null,"Lessons"),i.a.createElement("ol",{className:"breadcrumb"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement("a",{href:"#"},"Dashboard")),i.a.createElement("li",{className:"breadcrumb-item"},"Mock")),i.a.createElement("div",{className:"row"},1==this.state.cardStatus?i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"create"==this.state.cardActive?"Create new mock exam":"","edit"==this.state.cardActive?"Edit mock exam ":"","view"==this.state.cardActive?"View Mock Information":"",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","hide")},i.a.createElement(ye.a,{icon:Se.l})," Close"))),i.a.createElement("div",{className:"card-body"},"create"==this.state.cardActive?i.a.createElement("div",null,this.props.subjectLists?this.props.subjectLists.subjects.length>0?i.a.createElement("select",{className:"form-control",name:"subjectId",id:"subjectId",onChange:this.onChange}," ",i.a.createElement("option",{value:""},"Select Subject"),this.props.subjectLists.subjects.map(function(e){return i.a.createElement("option",{value:JSON.stringify(e),key:e.id,"data-subject":e.name},e.name)})," "):"":i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-spinner fa-spin"})," Loading subjects... "),this.props.questionsLists?i.a.createElement("div",null,this.props.questionsLists.length>0?i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("form",{onSubmit:this.handleAddMockExam},i.a.createElement("p",null,"Add Question")," ",i.a.createElement("hr",null),""===this.state.subjectId?"":this.props.questionsLists.map(function(t){return i.a.createElement("button",{key:t._id,type:"button",className:e.state.selectedQuestions.length>0&&e.state.selectedQuestions.includes(t._id)?"btn btn-success btn-block question-list":"btn btn-secondary btn-block question-list",disabled:e.state.disabled?"disabled":"",onClick:e.btnSelectQuestion.bind(e,t)},e.state.selectedQuestions.length>0&&e.state.selectedQuestions.includes(t._id)?i.a.createElement("i",{class:"fa fa-check"}):""," ",t.tag)}),i.a.createElement("hr",null),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:this.state.disabled?"disabled":""},this.state.disabled?i.a.createElement("div",{className:"spinner-border",role:"status"}," ",i.a.createElement("span",{className:"sr-only"},"Loading...")," "):"Add Mock Exam")))):i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("label",{className:"text text-danger"},"Question for this subject is currently empty"))):""):"","edit"==this.state.cardActive&&this.props.mockInfo?i.a.createElement("div",null,i.a.createElement("p",null,"Subject: ",this.props.mockInfo.data.subject),i.a.createElement("p",null,"Total Questions: ",i.a.createElement("b",null,this.props.mockInfo.data.numberOfQuestions)),i.a.createElement("hr",null),this.props.mockInfo.data.questions.map(function(t){return i.a.createElement("div",null,i.a.createElement("button",{class:"dropdown-btn btn-primary",onClick:e.switch},t.tag),i.a.createElement(st.a,{in:e.state.showList,timeout:400,classNames:"list-transition",unmountOnExit:!0,appear:!0,onEntered:e.listSwitch,onExit:e.listSwitch},i.a.createElement("div",{className:"list-body container"},i.a.createElement("br",null),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.question}}),i.a.createElement("hr",null),i.a.createElement("p",null,"Choices: "),i.a.createElement("hr",null),t.choices.map(function(e){return i.a.createElement("p",null,e)}))))})):"","view"==this.state.cardActive&&this.props.mockInfo?i.a.createElement("div",null,i.a.createElement("p",null,"Subject: ",this.props.mockInfo.data.subject),i.a.createElement("p",null,"Total Questions: ",i.a.createElement("b",null,this.props.mockInfo.data.numberOfQuestions)),i.a.createElement("hr",null),this.props.mockInfo.data.questions.map(function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"list-body container q-list"},i.a.createElement("br",null),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.question}}),i.a.createElement("hr",null),i.a.createElement("p",null,"Choices: "),i.a.createElement("hr",null),e.choices.map(function(e){return i.a.createElement("p",null,e)})),i.a.createElement("hr",null))})):"")),i.a.createElement("hr",null)):"",i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card card-custom-border"},i.a.createElement("div",{className:"card-header"},"Content box",i.a.createElement("small",{className:"float-right"},i.a.createElement("a",{className:"card-link",onClick:this.showCard.bind(this,"create","show","")},i.a.createElement(ye.a,{icon:Se.k})," Add new mock"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"}),i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:" card"},i.a.createElement("div",{class:"card-body"},i.a.createElement(Pe.a,{keyField:"id",data:t,columns:[{dataField:"name",text:"Name",style:{width:"600px"},searchable:!0},{dataField:"createdAt",text:"Date created",style:{width:"600px"},searchable:!0},{dataField:"action",text:"Action",style:{width:"200px"}}],search:!0},function(e){return i.a.createElement("div",null,i.a.createElement(kt,e.searchProps),i.a.createElement("hr",null),i.a.createElement(xe.a,Object.assign({},e.baseProps,{pagination:Ae()()})))}))))))))))))}}]),t}(n.Component)),It=Object(d.b)(function(e){return{validateToken:e.validateToken.testData,subjectLists:e.subjects.items.data,mockLists:e.mock.items.data,mockInfo:e.mock.info,questionsLists:e.questions.items.data}},{validateToken:Ee,fetchMock:function(){return function(e){var t={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/mock"),t).then(function(t){return e(he(X,t.data))}).catch(function(t){return e(he(X,t))})}},fetchMockInfo:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.get("".concat(be,"/mock/subjects/").concat(e,"/generate"),a).then(function(e){return console.log(e),t(he($,e.data))}).catch(function(e){return console.log(e),t(he($,e))})}},fetchSubjects:Ne,fetchQuestions:Fe,newMockExam:function(e){return function(t){var a={headers:{"x-client-id":"Jeyk","x-client-secret":"Qwe12345",token:JSON.parse(localStorage.getItem("pinnacleAdmin")).token}};return E.a.post("".concat(be,"/mock"),e,a).then(function(e){return t(he(Z,e.data))}).catch(function(e){return t(he(Z,e.response.data))})}}})(Ot);n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(465);var xt=a(35),Tt=a(191);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Pt={items:[],item:{}};function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var qt={items:[],item:{}};function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ft={items:[],item:{}};function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Rt={items:[],item:{}};function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Wt={items:[],item:{}};function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Yt={items:[],item:{}};function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xt={items:[],item:{}};function $t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$t(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$t(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ea={items:[],item:{}};function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var sa={items:[],item:{}};function na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?na(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):na(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ca={items:[],item:{}};function ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ra(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ra(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var oa={items:[],item:{}};function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ma,pa={items:[],item:{}},ha=Object(xt.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Ut({},e,{data:t.payload});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return Dt({},e,{items:t.payload});case"NEW_POSTS":return Dt({},e,{item:t.payload});default:return e}},validateToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Jt({},e,{testData:t.payload});case y:return Jt({},e,{validatePassword:t.payload});default:return e}},subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return _t({},e,{items:t.payload});case"NEW_SUBJECT":return _t({},e,{subject:t.payload});case N:return _t({},e,{subjectInfo:t.payload});case j:return _t({},e,{subjectUpdate:t.payload});case w:return _t({},e,{subjectDelete:t.payload});default:return e}},file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Vt({},e,{data:t.payload});case k:return Vt({},e,{image:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Ht({},e,{lists:t.payload});case I:return Ht({},e,{list:t.payload});case x:return Ht({},e,{info:t.payload});case A:return Ht({},e,{userUpdate:t.payload});case T:return Ht({},e,{delete:t.payload});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Gt({},e,{lists:t.payload});case P:return Gt({},e,{list:t.payload});case L:return Gt({},e,{addedNews:t.payload});case U:return Gt({},e,{newsUpdate:t.payload});case q:return Gt({},e,{newsDelete:t.payload});default:return e}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Zt({},e,{items:t.payload});case J:return Zt({},e,{item:t.payload});case F:return Zt({},e,{topicUpdate:t.payload});case M:return Zt({},e,{topicDelete:t.payload});default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return aa({},e,{items:t.payload});case R:return aa({},e,{question:t.payload});case B:return aa({},e,{info:t.payload});case V:return aa({},e,{questionUpdate:t.payload});case W:return aa({},e,{questionDelete:t.payload});default:return e}},lessons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return ia({},e,{items:t.payload});case Y:return ia({},e,{lesson:t.payload});case H:return ia({},e,{info:t.payload});case K:return ia({},e,{lessonUpdate:t.payload});case G:return ia({},e,{lessonDelete:t.payload});default:return e}},mock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return la({},e,{items:t.payload});case Z:return la({},e,{list:t.payload});case $:return la({},e,{info:t.payload});default:return e}},subjectCode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return ua({},e,{items:t.payload});case te:return ua({},e,{new:t.payload});case ae:return ua({},e,{info:t.payload});case se:return ua({},e,{subjectCodeUpdate:t.payload});case ne:return ua({},e,{subjectCodeResend:t.payload});default:return e}}}),ba=[Tt.a],fa=Object(xt.e)(ha,{},Object(xt.d)(xt.a.apply(void 0,ba),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Ea=i.a.createElement(l.a,null,i.a.createElement("div",null,i.a.createElement(d.a,{store:fa},i.a.createElement(o.a,(ma={exact:!0,path:"/"},Object(s.a)(ma,"exact",!0),Object(s.a)(ma,"component",ct),ma)),i.a.createElement(o.a,{exact:!0,path:"/login",component:lt}),i.a.createElement(o.a,{exact:!0,path:"/topic",component:ut}),i.a.createElement(o.a,{exact:!0,path:"/subjects",component:at}),i.a.createElement(o.a,{exact:!0,path:"/subject-code",component:vt}),i.a.createElement(o.a,{exact:!0,path:"/lessons",component:Ve}),i.a.createElement(o.a,{exact:!0,path:"/users",component:ft}),i.a.createElement(o.a,{exact:!0,path:"/questions",component:Ct}),i.a.createElement(o.a,{exact:!0,path:"/news",component:Nt}),i.a.createElement(o.a,{exact:!0,path:"/mock",component:It}))));r.a.render(Ea,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,1,2]]]);
//# sourceMappingURL=main.44233991.chunk.js.map